<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>2 Data processing | Objective, subjective, and accurate reporting of social media use: No evidence that daily social media use correlates with personality traits, motivational states, or well-being</title>
  <meta name="description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="2 Data processing | Objective, subjective, and accurate reporting of social media use: No evidence that daily social media use correlates with personality traits, motivational states, or well-being" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/digital-wellbeing/smartphone-use" />
  
  <meta property="og:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="github-repo" content="digital-wellbeing/smartphone-use" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="2 Data processing | Objective, subjective, and accurate reporting of social media use: No evidence that daily social media use correlates with personality traits, motivational states, or well-being" />
  
  <meta name="twitter:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  

<meta name="author" content="Niklas Johannes, Thuy-vy Nguyen, Netta Weinstein, Andrew K. Przybylski" />


<meta name="date" content="2021-03-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="setting-up.html"/>
<link rel="next" href="descriptives-and-visualizations.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysis Report</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="index.html"><a href="index.html#data-and-models"><i class="fa fa-check"></i><b>0.1</b> Data and models</a></li>
<li class="chapter" data-level="0.2" data-path="index.html"><a href="index.html#how-to-reproduce-processing-and-analyses"><i class="fa fa-check"></i><b>0.2</b> How to reproduce processing and analyses</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="setting-up.html"><a href="setting-up.html"><i class="fa fa-check"></i><b>1</b> Setting up</a></li>
<li class="chapter" data-level="2" data-path="data-processing.html"><a href="data-processing.html"><i class="fa fa-check"></i><b>2</b> Data processing</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-processing.html"><a href="data-processing.html#personality-data"><i class="fa fa-check"></i><b>2.1</b> Personality data</a></li>
<li class="chapter" data-level="2.2" data-path="data-processing.html"><a href="data-processing.html#diary-data"><i class="fa fa-check"></i><b>2.2</b> Diary data</a></li>
<li class="chapter" data-level="2.3" data-path="data-processing.html"><a href="data-processing.html#screen-time-data"><i class="fa fa-check"></i><b>2.3</b> Screen time data</a></li>
<li class="chapter" data-level="2.4" data-path="data-processing.html"><a href="data-processing.html#merge-data-sets"><i class="fa fa-check"></i><b>2.4</b> Merge data sets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html"><i class="fa fa-check"></i><b>3</b> Descriptives and Visualizations</a>
<ul>
<li class="chapter" data-level="3.1" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#meta-level"><i class="fa fa-check"></i><b>3.2</b> Meta-level</a></li>
<li class="chapter" data-level="3.3" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#person-level"><i class="fa fa-check"></i><b>3.3</b> Person-level</a></li>
<li class="chapter" data-level="3.4" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#app-level"><i class="fa fa-check"></i><b>3.4</b> App-level</a></li>
<li class="chapter" data-level="3.5" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#day-level"><i class="fa fa-check"></i><b>3.5</b> Day level</a></li>
<li class="chapter" data-level="3.6" data-path="descriptives-and-visualizations.html"><a href="descriptives-and-visualizations.html#plots-for-paper"><i class="fa fa-check"></i><b>3.6</b> Plots for paper</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analysis.html"><a href="analysis.html"><i class="fa fa-check"></i><b>4</b> Analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="analysis.html"><a href="analysis.html#research-questions"><i class="fa fa-check"></i><b>4.1</b> Research questions</a></li>
<li class="chapter" data-level="4.2" data-path="analysis.html"><a href="analysis.html#data-preparation"><i class="fa fa-check"></i><b>4.2</b> Data preparation</a></li>
<li class="chapter" data-level="4.3" data-path="analysis.html"><a href="analysis.html#do-trait-variables-predict-social-media-use-and-accuracy"><i class="fa fa-check"></i><b>4.3</b> Do trait variables predict social media use and accuracy?</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="analysis.html"><a href="analysis.html#model-1-trait-variables-predicting-objective-use"><i class="fa fa-check"></i><b>4.3.1</b> Model 1: Trait variables predicting objective use</a></li>
<li class="chapter" data-level="4.3.2" data-path="analysis.html"><a href="analysis.html#model-2-trait-variables-predicting-subjective-use"><i class="fa fa-check"></i><b>4.3.2</b> Model 2: Trait variables predicting subjective use</a></li>
<li class="chapter" data-level="4.3.3" data-path="analysis.html"><a href="analysis.html#model-3-trait-variables-predicting-accuracy"><i class="fa fa-check"></i><b>4.3.3</b> Model 3: Trait variables predicting accuracy</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="analysis.html"><a href="analysis.html#do-state-i.e.-day-level-variables-predict-social-media-use-and-accuracy"><i class="fa fa-check"></i><b>4.4</b> Do state (i.e., day-level) variables predict social media use and accuracy?</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="analysis.html"><a href="analysis.html#model-4-state-variables-predicting-objective-use"><i class="fa fa-check"></i><b>4.4.1</b> Model 4: State variables predicting objective use</a></li>
<li class="chapter" data-level="4.4.2" data-path="analysis.html"><a href="analysis.html#model-5-state-variables-predicting-subjective-use"><i class="fa fa-check"></i><b>4.4.2</b> Model 5: State variables predicting subjective use</a></li>
<li class="chapter" data-level="4.4.3" data-path="analysis.html"><a href="analysis.html#model-6-state-variables-predicting-accuracy"><i class="fa fa-check"></i><b>4.4.3</b> Model 6: State variables predicting accuracy</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="analysis.html"><a href="analysis.html#does-social-media-use-predict-well-being"><i class="fa fa-check"></i><b>4.5</b> Does social media use predict well-being?</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="analysis.html"><a href="analysis.html#model-7-objective-use-predicting-well-being"><i class="fa fa-check"></i><b>4.5.1</b> Model 7: Objective use predicting well-being</a></li>
<li class="chapter" data-level="4.5.2" data-path="analysis.html"><a href="analysis.html#model-8-subjective-use-predicting-well-being"><i class="fa fa-check"></i><b>4.5.2</b> Model 8: Subjective use predicting well-being</a></li>
<li class="chapter" data-level="4.5.3" data-path="analysis.html"><a href="analysis.html#model-9-accuracy-predicting-well-being"><i class="fa fa-check"></i><b>4.5.3</b> Model 9: Accuracy predicting well-being</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="analysis.html"><a href="analysis.html#relation-between-subjective-and-objective-use"><i class="fa fa-check"></i><b>4.6</b> Relation between subjective and objective use</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="synthesis.html"><a href="synthesis.html"><i class="fa fa-check"></i><b>5</b> Synthesis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="synthesis.html"><a href="synthesis.html#personality-on-smartphone-use-trait"><i class="fa fa-check"></i><b>5.1</b> Personality on smartphone use (trait)</a></li>
<li class="chapter" data-level="5.2" data-path="synthesis.html"><a href="synthesis.html#experiences-on-smartphone-use-state"><i class="fa fa-check"></i><b>5.2</b> Experiences on smartphone use (state)</a></li>
<li class="chapter" data-level="5.3" data-path="synthesis.html"><a href="synthesis.html#smartphone-use-on-well-being-state"><i class="fa fa-check"></i><b>5.3</b> Smartphone use on well-being (state)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Objective, subjective, and accurate reporting of social media use: No evidence that daily social media use correlates with personality traits, motivational states, or well-being</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-processing" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Data processing</h1>
<p>Let’s process the raw data and get them to a format that we can work with for the analysis.
The study has three raw data files:</p>
<ul>
<li><code>personality_raw.csv</code> is the survey participants filled out at the beginning of the study, reporting personality traits</li>
<li><code>diary_raw.csv</code> is the end of day survey participants filled out during the diary part of the study</li>
<li><code>screen_time_raw.csv</code> is the objective screen time data participants reported</li>
</ul>
<div id="personality-data" class="section level2" number="2.1">
<h2><span class="header-section-number">2.1</span> Personality data</h2>
<p>The data are on the OSF.
You can download them if you set the code chunk below to <code>eval=TRUE</code>.
Downloading only works when the OSF project is public.
If it isn’t during peer review, you’ll need to paste the data files from the OSF to the <code>data/</code> folder manually.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="data-processing.html#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create directory</span></span>
<span id="cb3-2"><a href="data-processing.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;data/&quot;</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>)</span>
<span id="cb3-3"><a href="data-processing.html#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="data-processing.html#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="co"># download models</span></span>
<span id="cb3-5"><a href="data-processing.html#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="fu">osf_retrieve_node</span>(<span class="st">&quot;https://osf.io/7byvt/&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-6"><a href="data-processing.html#cb3-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_ls_nodes</span>() <span class="sc">%&gt;%</span></span>
<span id="cb3-7"><a href="data-processing.html#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(name <span class="sc">==</span> <span class="st">&quot;data&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb3-8"><a href="data-processing.html#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_ls_files</span>(</span>
<span id="cb3-9"><a href="data-processing.html#cb3-9" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb3-10"><a href="data-processing.html#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">n_max =</span> <span class="cn">Inf</span></span>
<span id="cb3-11"><a href="data-processing.html#cb3-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span></span>
<span id="cb3-12"><a href="data-processing.html#cb3-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">osf_download</span>(</span>
<span id="cb3-13"><a href="data-processing.html#cb3-13" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb3-14"><a href="data-processing.html#cb3-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">path =</span> <span class="fu">here</span>(<span class="st">&quot;data&quot;</span>),</span>
<span id="cb3-15"><a href="data-processing.html#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> <span class="cn">FALSE</span></span>
<span id="cb3-16"><a href="data-processing.html#cb3-16" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 4 x 4
##   name                id                       local_path               meta            
##   &lt;chr&gt;               &lt;chr&gt;                    &lt;chr&gt;                    &lt;list&gt;          
## 1 diary_raw.csv       603e5635441575030c586bc7 data/diary_raw.csv       &lt;named list [3]&gt;
## 2 personality_raw.csv 603e5635035cf7031cc86382 data/personality_raw.csv &lt;named list [3]&gt;
## 3 processed_data.rds  603e56364415750312587b3a data/processed_data.rds  &lt;named list [3]&gt;
## 4 screen_time_raw.csv 603e56374415750312587b48 data/screen_time_raw.csv &lt;named list [3]&gt;</code></pre>
<p>Let’s load the personality data.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="data-processing.html#cb5-1" aria-hidden="true" tabindex="-1"></a>personality_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;personality_raw.csv&quot;</span>))</span></code></pre></div>
<p>Qualtrics names aren’t very informative, so I give some sensible variable names (although this data set has mostly meaningful variable names).
Also, there are variables (i.e., anything starting with <code>afi</code> to <code>selfreflect</code>) that were part of a different study, which is why I don’t include them here.
Note that I don’t want to change the raw data object, so I’ll keep using <code>personality</code> as a new object from here on.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb6-1"><a href="data-processing.html#cb6-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb6-2"><a href="data-processing.html#cb6-2" aria-hidden="true" tabindex="-1"></a>  personality_raw <span class="sc">%&gt;%</span> </span>
<span id="cb6-3"><a href="data-processing.html#cb6-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb6-4"><a href="data-processing.html#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># meta data</span></span>
<span id="cb6-5"><a href="data-processing.html#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_date =</span> StartDate,</span>
<span id="cb6-6"><a href="data-processing.html#cb6-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_date =</span> EndDate,</span>
<span id="cb6-7"><a href="data-processing.html#cb6-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> Progress,</span>
<span id="cb6-8"><a href="data-processing.html#cb6-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration =</span> Duration__in_seconds_,</span>
<span id="cb6-9"><a href="data-processing.html#cb6-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> Finished,</span>
<span id="cb6-10"><a href="data-processing.html#cb6-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">recorded_date =</span> RecordedDate,</span>
<span id="cb6-11"><a href="data-processing.html#cb6-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> study_id,</span>
<span id="cb6-12"><a href="data-processing.html#cb6-12" aria-hidden="true" tabindex="-1"></a>    date,</span>
<span id="cb6-13"><a href="data-processing.html#cb6-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-14"><a href="data-processing.html#cb6-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># basic psychological need satisfaction trait</span></span>
<span id="cb6-15"><a href="data-processing.html#cb6-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">bpns_ =</span> <span class="fu">starts_with</span>(<span class="st">&quot;bpns&quot;</span>),</span>
<span id="cb6-16"><a href="data-processing.html#cb6-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-17"><a href="data-processing.html#cb6-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># big five</span></span>
<span id="cb6-18"><a href="data-processing.html#cb6-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">big_five_ =</span> <span class="fu">starts_with</span>(<span class="st">&quot;bfi&quot;</span>),</span>
<span id="cb6-19"><a href="data-processing.html#cb6-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb6-20"><a href="data-processing.html#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># demographics</span></span>
<span id="cb6-21"><a href="data-processing.html#cb6-21" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb6-22"><a href="data-processing.html#cb6-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender_entry =</span> gender_3_TEXT,</span>
<span id="cb6-23"><a href="data-processing.html#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> Q42,</span>
<span id="cb6-24"><a href="data-processing.html#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_american_indian =</span> ethnicity_1,</span>
<span id="cb6-25"><a href="data-processing.html#cb6-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_asian =</span> ethnicity_2,</span>
<span id="cb6-26"><a href="data-processing.html#cb6-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_island =</span> ethnicity_3,</span>
<span id="cb6-27"><a href="data-processing.html#cb6-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_black =</span> ethnicity_4,</span>
<span id="cb6-28"><a href="data-processing.html#cb6-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_white =</span> ethnicity_5,</span>
<span id="cb6-29"><a href="data-processing.html#cb6-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_hispanic =</span> ethnicity_6,</span>
<span id="cb6-30"><a href="data-processing.html#cb6-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_multi =</span> ethnicity_7</span>
<span id="cb6-31"><a href="data-processing.html#cb6-31" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Next, I make sure those variables have the correct variable type.
I’ll also recode factor levels so that labels are readable.
Note that participants filled in their age from a dropdown menu to prevent typos.
The dropdown went from age 18 (<code>1</code>) to 30+ (<code>13</code>).
Nobody was older than thirty, so I’ll recode age as well.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="data-processing.html#cb7-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb7-2"><a href="data-processing.html#cb7-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="data-processing.html#cb7-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb7-4"><a href="data-processing.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">paste0</span>(<span class="st">&quot;pp_&quot;</span>, id), <span class="co"># add pp for participant just so later I don&#39;t mistake the id variable for a count</span></span>
<span id="cb7-5"><a href="data-processing.html#cb7-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>( <span class="co"># turn those two into factors</span></span>
<span id="cb7-6"><a href="data-processing.html#cb7-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(finished, id, gender),</span>
<span id="cb7-7"><a href="data-processing.html#cb7-7" aria-hidden="true" tabindex="-1"></a>      as.factor</span>
<span id="cb7-8"><a href="data-processing.html#cb7-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-9"><a href="data-processing.html#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb7-10"><a href="data-processing.html#cb7-10" aria-hidden="true" tabindex="-1"></a>      finished,</span>
<span id="cb7-11"><a href="data-processing.html#cb7-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;yes&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb7-12"><a href="data-processing.html#cb7-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;no&quot;</span> <span class="ot">=</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb7-13"><a href="data-processing.html#cb7-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-14"><a href="data-processing.html#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">gender =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb7-15"><a href="data-processing.html#cb7-15" aria-hidden="true" tabindex="-1"></a>      gender,</span>
<span id="cb7-16"><a href="data-processing.html#cb7-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;male&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb7-17"><a href="data-processing.html#cb7-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;female&quot;</span> <span class="ot">=</span> <span class="st">&quot;2&quot;</span>,</span>
<span id="cb7-18"><a href="data-processing.html#cb7-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;other&quot;</span> <span class="ot">=</span> <span class="st">&quot;3&quot;</span></span>
<span id="cb7-19"><a href="data-processing.html#cb7-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb7-20"><a href="data-processing.html#cb7-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">age =</span> age <span class="sc">+</span> <span class="dv">17</span></span>
<span id="cb7-21"><a href="data-processing.html#cb7-21" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>I see that ethnicity was multiple choice although “multiracial” is an answer option.
So I think it makes more sense to combine this all into one variable.
That required quite a lot of code, but was still less problematic than transforming the ethnicity variables to long format.
I took the following steps:</p>
<ul>
<li>check who reported multiple ethnicities</li>
<li>those who did get an <code>NA</code> on all other ethnicity variables</li>
<li>recoded the variables from numeric to containing the ethnicity factor level and coalesce</li>
</ul>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb8-1"><a href="data-processing.html#cb8-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb8-2"><a href="data-processing.html#cb8-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb8-3"><a href="data-processing.html#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb8-4"><a href="data-processing.html#cb8-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">multiple =</span> <span class="fu">rowSums</span>(<span class="fu">select</span>(., <span class="fu">starts_with</span>(<span class="st">&quot;ethnicity&quot;</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>), <span class="co"># check who reported multiple ethnicities</span></span>
<span id="cb8-5"><a href="data-processing.html#cb8-5" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-6"><a href="data-processing.html#cb8-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># those with multiple get NA for all other ethnicity variables</span></span>
<span id="cb8-7"><a href="data-processing.html#cb8-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb8-8"><a href="data-processing.html#cb8-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(ethnicity_american_indian<span class="sc">:</span>ethnicity_hispanic),</span>
<span id="cb8-9"><a href="data-processing.html#cb8-9" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb8-10"><a href="data-processing.html#cb8-10" aria-hidden="true" tabindex="-1"></a>        multiple <span class="sc">&gt;</span> <span class="dv">1</span> <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb8-11"><a href="data-processing.html#cb8-11" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> .</span>
<span id="cb8-12"><a href="data-processing.html#cb8-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-13"><a href="data-processing.html#cb8-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb8-14"><a href="data-processing.html#cb8-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-15"><a href="data-processing.html#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># turn into character which makes recoding below easier</span></span>
<span id="cb8-16"><a href="data-processing.html#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb8-17"><a href="data-processing.html#cb8-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(ethnicity_american_indian<span class="sc">:</span>ethnicity_hispanic),</span>
<span id="cb8-18"><a href="data-processing.html#cb8-18" aria-hidden="true" tabindex="-1"></a>      as.character</span>
<span id="cb8-19"><a href="data-processing.html#cb8-19" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb8-20"><a href="data-processing.html#cb8-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-21"><a href="data-processing.html#cb8-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># recode the individual variables</span></span>
<span id="cb8-22"><a href="data-processing.html#cb8-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_american_indian =</span> <span class="fu">if_else</span>(ethnicity_american_indian <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;American Indian/Alaska Native&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-23"><a href="data-processing.html#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_asian =</span> <span class="fu">if_else</span>(ethnicity_asian <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Asian&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-24"><a href="data-processing.html#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_island =</span> <span class="fu">if_else</span>(ethnicity_island <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Native Hawaiian or Other Pacific Islander&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-25"><a href="data-processing.html#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_black =</span> <span class="fu">if_else</span>(ethnicity_black <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Black or African American&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-26"><a href="data-processing.html#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_white =</span> <span class="fu">if_else</span>(ethnicity_white <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;White&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-27"><a href="data-processing.html#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_hispanic =</span> <span class="fu">if_else</span>(ethnicity_hispanic <span class="sc">==</span> <span class="dv">1</span>, <span class="st">&quot;Hispanic or Latino&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-28"><a href="data-processing.html#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity_multi =</span> <span class="fu">if_else</span>(multiple <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="st">&quot;Multiracial&quot;</span>, <span class="cn">NA_character_</span>),</span>
<span id="cb8-29"><a href="data-processing.html#cb8-29" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb8-30"><a href="data-processing.html#cb8-30" aria-hidden="true" tabindex="-1"></a>    <span class="co"># coalesce them (coalesce doesn&#39;t work with .select helpers, so needed to type the variables out)</span></span>
<span id="cb8-31"><a href="data-processing.html#cb8-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">ethnicity =</span> <span class="fu">as.factor</span>(</span>
<span id="cb8-32"><a href="data-processing.html#cb8-32" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coalesce</span>(</span>
<span id="cb8-33"><a href="data-processing.html#cb8-33" aria-hidden="true" tabindex="-1"></a>        ethnicity_american_indian,</span>
<span id="cb8-34"><a href="data-processing.html#cb8-34" aria-hidden="true" tabindex="-1"></a>        ethnicity_asian,</span>
<span id="cb8-35"><a href="data-processing.html#cb8-35" aria-hidden="true" tabindex="-1"></a>        ethnicity_island,</span>
<span id="cb8-36"><a href="data-processing.html#cb8-36" aria-hidden="true" tabindex="-1"></a>        ethnicity_black,</span>
<span id="cb8-37"><a href="data-processing.html#cb8-37" aria-hidden="true" tabindex="-1"></a>        ethnicity_white,</span>
<span id="cb8-38"><a href="data-processing.html#cb8-38" aria-hidden="true" tabindex="-1"></a>        ethnicity_hispanic,</span>
<span id="cb8-39"><a href="data-processing.html#cb8-39" aria-hidden="true" tabindex="-1"></a>        ethnicity_multi</span>
<span id="cb8-40"><a href="data-processing.html#cb8-40" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb8-41"><a href="data-processing.html#cb8-41" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-42"><a href="data-processing.html#cb8-42" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb8-43"><a href="data-processing.html#cb8-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(start_date<span class="sc">:</span>age, ethnicity)</span></code></pre></div>
<p>Then I remove those cases without an <code>id</code> (aka test runs) and those with an <code>id</code> but not other entries.
The latter are probably no-shows.
Note: In the earlier versions of this script, I excluded per data set, which made it hard for reporting exact exclusions in the final paper.
For example, at this point I don’t know whether someone I exclude here even participated in the diary part of the study.
Therefore, I save each exclusion criterion in a separate object and inspect how many people we actually need to exclude later in the data merging section.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="data-processing.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove test run</span></span>
<span id="cb9-2"><a href="data-processing.html#cb9-2" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb9-3"><a href="data-processing.html#cb9-3" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb9-4"><a href="data-processing.html#cb9-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(id <span class="sc">!=</span> <span class="st">&quot;pp_NA&quot;</span>)</span>
<span id="cb9-5"><a href="data-processing.html#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="data-processing.html#cb9-6" aria-hidden="true" tabindex="-1"></a>personality_exclusions_1 <span class="ot">&lt;-</span></span>
<span id="cb9-7"><a href="data-processing.html#cb9-7" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb9-8"><a href="data-processing.html#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb9-9"><a href="data-processing.html#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span></code></pre></div>
<p>Let’s see how many missing values there are left per participant (aka row) in <a href="data-processing.html#tab:check-personality-na">2.1</a>.
Most participants filled out everything, but a couple of them have basically empty rows (especially those above with all empty rows).
A couple of participants have quite a handful of empty cells.
I inspected their data and most of them just didn’t fill out the Big Five, but some participants didn’t fill out anything.</p>
<table>
<caption><span id="tab:check-personality-na">Table 2.1: </span>Count of number of missing values per row</caption>
<thead>
<tr class="header">
<th align="right">na_count_row</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">246</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">7</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="right">25</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">49</td>
<td align="right">4</td>
</tr>
<tr class="even">
<td align="right">74</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">81</td>
<td align="right">10</td>
</tr>
</tbody>
</table>
<p>I’ll exclude the latter.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="data-processing.html#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude those with &gt; 15 missing values (which identifies empty rows)</span></span>
<span id="cb10-2"><a href="data-processing.html#cb10-2" aria-hidden="true" tabindex="-1"></a>personality_exclusions_2 <span class="ot">&lt;-</span> </span>
<span id="cb10-3"><a href="data-processing.html#cb10-3" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb10-4"><a href="data-processing.html#cb10-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb10-5"><a href="data-processing.html#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">na_count_row =</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(.))</span>
<span id="cb10-6"><a href="data-processing.html#cb10-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb10-7"><a href="data-processing.html#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(na_count_row <span class="sc">&gt;</span><span class="dv">70</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb10-8"><a href="data-processing.html#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span></code></pre></div>
<p>Alright, time to construct the means for the scales.
But first, I check data quality by seeing whether there are instances of “straightlining” (i.e., choosing the same response option for all items of a scale).
We also had attention checks in the survey.</p>
<p>Let’s have a look at those attention checks.
For item <code>bpns_25</code> participants had to choose <code>2</code> as a response and for item <code>big_five_45</code> they had to choose <code>5</code>.
When we check Table <a href="data-processing.html#tab:attention-check-personality">2.2</a>, we see that 5 participants didn’t pass both attention checks.</p>
<table class="kable_wrapper">
<caption>
<span id="tab:attention-check-personality">Table 2.2: </span>Failed attention checks
</caption>
<tbody>
<tr>
<td>
<table>
<thead>
<tr class="header">
<th align="left">bpns_25 != 2</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">277</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">13</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">12</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="left">big_five_45 != 5</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">275</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">7</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">20</td>
</tr>
</tbody>
</table>
</td>
<td>
<table>
<thead>
<tr class="header">
<th align="left">(bpns_25 != 2 &amp; big_five_45 != 5)</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">FALSE</td>
<td align="right">286</td>
</tr>
<tr class="even">
<td align="left">TRUE</td>
<td align="right">5</td>
</tr>
<tr class="odd">
<td align="left">NA</td>
<td align="right">11</td>
</tr>
</tbody>
</table>
</td>
</tr>
</tbody>
</table>
<p>I’ll exclude those participants because I don’t think we can trust their data.</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="data-processing.html#cb11-1" aria-hidden="true" tabindex="-1"></a>personality_exclusions_3 <span class="ot">&lt;-</span> </span>
<span id="cb11-2"><a href="data-processing.html#cb11-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb11-3"><a href="data-processing.html#cb11-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(bpns_25 <span class="sc">!=</span> <span class="dv">2</span> <span class="sc">&amp;</span> big_five_45 <span class="sc">!=</span> <span class="dv">5</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb11-4"><a href="data-processing.html#cb11-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span></code></pre></div>
<p>Next, I check for straightlining by inspecting the variance per daily survey on the BPNS and BF scales.
Turns out that it’s not super straightforward to compute variance per row, found help <a href="https://www.tidyverse.org/blog/2020/04/dplyr-1-0-0-rowwise/">here</a>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="data-processing.html#cb12-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="data-processing.html#cb12-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb12-3"><a href="data-processing.html#cb12-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb12-4"><a href="data-processing.html#cb12-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb12-5"><a href="data-processing.html#cb12-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">bpns_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb12-6"><a href="data-processing.html#cb12-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;bpns&quot;</span>)),</span>
<span id="cb12-7"><a href="data-processing.html#cb12-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb12-8"><a href="data-processing.html#cb12-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb12-9"><a href="data-processing.html#cb12-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">big_five_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb12-10"><a href="data-processing.html#cb12-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c_across</span>(<span class="fu">starts_with</span>(<span class="st">&quot;big_five&quot;</span>)),</span>
<span id="cb12-11"><a href="data-processing.html#cb12-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb12-12"><a href="data-processing.html#cb12-12" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb12-13"><a href="data-processing.html#cb12-13" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb12-14"><a href="data-processing.html#cb12-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>())</span></code></pre></div>
If we visualize that variance in Figure <a href="data-processing.html#fig:plot-variance-personality">2.1</a>, we can see that there’s little cause for concern: few people straightlined.
<div class="figure"><span id="fig:plot-variance-personality"></span>
<img src="analysis_report_files/figure-html/plot-variance-personality-1.png" alt="Distribution of variances per survey on two measures" width="672" />
<p class="caption">
Figure 2.1: Distribution of variances per survey on two measures
</p>
</div>
<p>Those two are already captured by the exclusion criteria above (I checked manually, but I’ll still save them in an object).</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="data-processing.html#cb13-1" aria-hidden="true" tabindex="-1"></a>personality_exclusions_4 <span class="ot">&lt;-</span> </span>
<span id="cb13-2"><a href="data-processing.html#cb13-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb13-3"><a href="data-processing.html#cb13-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(bpns_sd <span class="sc">==</span> <span class="dv">0</span> <span class="sc">|</span> big_five_sd <span class="sc">==</span> <span class="dv">0</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb13-4"><a href="data-processing.html#cb13-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span></code></pre></div>
<p>Alright, now we can aggregate the individual items to scale scores.
Some of those items are reverse-coded (see the codebook for details).
I’ll code all scales such that a higher scores means scoring more positively on that scale.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="data-processing.html#cb14-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb14-2"><a href="data-processing.html#cb14-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb14-3"><a href="data-processing.html#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb14-4"><a href="data-processing.html#cb14-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-5"><a href="data-processing.html#cb14-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb14-6"><a href="data-processing.html#cb14-6" aria-hidden="true" tabindex="-1"></a>        bpns_5<span class="sc">:</span>bpns_8,</span>
<span id="cb14-7"><a href="data-processing.html#cb14-7" aria-hidden="true" tabindex="-1"></a>        bpns_13<span class="sc">:</span>bpns_15,</span>
<span id="cb14-8"><a href="data-processing.html#cb14-8" aria-hidden="true" tabindex="-1"></a>        bpns_21<span class="sc">:</span>bpns_25,</span>
<span id="cb14-9"><a href="data-processing.html#cb14-9" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-10"><a href="data-processing.html#cb14-10" aria-hidden="true" tabindex="-1"></a>      <span class="cf">function</span>(.) <span class="dv">8</span> <span class="sc">-</span> .</span>
<span id="cb14-11"><a href="data-processing.html#cb14-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb14-12"><a href="data-processing.html#cb14-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb14-13"><a href="data-processing.html#cb14-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(</span>
<span id="cb14-14"><a href="data-processing.html#cb14-14" aria-hidden="true" tabindex="-1"></a>        big_five_2,</span>
<span id="cb14-15"><a href="data-processing.html#cb14-15" aria-hidden="true" tabindex="-1"></a>        big_five_6,</span>
<span id="cb14-16"><a href="data-processing.html#cb14-16" aria-hidden="true" tabindex="-1"></a>        big_five_8,</span>
<span id="cb14-17"><a href="data-processing.html#cb14-17" aria-hidden="true" tabindex="-1"></a>        big_five_9,</span>
<span id="cb14-18"><a href="data-processing.html#cb14-18" aria-hidden="true" tabindex="-1"></a>        big_five_12,</span>
<span id="cb14-19"><a href="data-processing.html#cb14-19" aria-hidden="true" tabindex="-1"></a>        big_five_18,</span>
<span id="cb14-20"><a href="data-processing.html#cb14-20" aria-hidden="true" tabindex="-1"></a>        big_five_21,</span>
<span id="cb14-21"><a href="data-processing.html#cb14-21" aria-hidden="true" tabindex="-1"></a>        big_five_23,</span>
<span id="cb14-22"><a href="data-processing.html#cb14-22" aria-hidden="true" tabindex="-1"></a>        big_five_27,</span>
<span id="cb14-23"><a href="data-processing.html#cb14-23" aria-hidden="true" tabindex="-1"></a>        big_five_31,</span>
<span id="cb14-24"><a href="data-processing.html#cb14-24" aria-hidden="true" tabindex="-1"></a>        big_five_37,</span>
<span id="cb14-25"><a href="data-processing.html#cb14-25" aria-hidden="true" tabindex="-1"></a>        big_five_43</span>
<span id="cb14-26"><a href="data-processing.html#cb14-26" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb14-27"><a href="data-processing.html#cb14-27" aria-hidden="true" tabindex="-1"></a>      <span class="cf">function</span>(.) <span class="dv">6</span> <span class="sc">-</span> .</span>
<span id="cb14-28"><a href="data-processing.html#cb14-28" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb14-29"><a href="data-processing.html#cb14-29" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Now I create the scales by taking the mean of the respective items.
Note that I remove missing values in computing row means to ignore the occasional missing value.
(For those with missing values throughout, see next code chunk.)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="data-processing.html#cb15-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb15-2"><a href="data-processing.html#cb15-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb15-3"><a href="data-processing.html#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb15-4"><a href="data-processing.html#cb15-4" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-5"><a href="data-processing.html#cb15-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># trait needs</span></span>
<span id="cb15-6"><a href="data-processing.html#cb15-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">autonomy_trait =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., bpns_1<span class="sc">:</span>bpns_8), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-7"><a href="data-processing.html#cb15-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">competence_trait =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., bpns_9<span class="sc">:</span>bpns_16), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-8"><a href="data-processing.html#cb15-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">relatedness_trait =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., bpns_17<span class="sc">:</span>bpns_24), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb15-9"><a href="data-processing.html#cb15-9" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb15-10"><a href="data-processing.html#cb15-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># big five</span></span>
<span id="cb15-11"><a href="data-processing.html#cb15-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">extraversion =</span> <span class="fu">rowMeans</span>(</span>
<span id="cb15-12"><a href="data-processing.html#cb15-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb15-13"><a href="data-processing.html#cb15-13" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb15-14"><a href="data-processing.html#cb15-14" aria-hidden="true" tabindex="-1"></a>        big_five_1,</span>
<span id="cb15-15"><a href="data-processing.html#cb15-15" aria-hidden="true" tabindex="-1"></a>        big_five_6,</span>
<span id="cb15-16"><a href="data-processing.html#cb15-16" aria-hidden="true" tabindex="-1"></a>        big_five_11,</span>
<span id="cb15-17"><a href="data-processing.html#cb15-17" aria-hidden="true" tabindex="-1"></a>        big_five_16,</span>
<span id="cb15-18"><a href="data-processing.html#cb15-18" aria-hidden="true" tabindex="-1"></a>        big_five_21,</span>
<span id="cb15-19"><a href="data-processing.html#cb15-19" aria-hidden="true" tabindex="-1"></a>        big_five_26,</span>
<span id="cb15-20"><a href="data-processing.html#cb15-20" aria-hidden="true" tabindex="-1"></a>        big_five_31,</span>
<span id="cb15-21"><a href="data-processing.html#cb15-21" aria-hidden="true" tabindex="-1"></a>        big_five_36</span>
<span id="cb15-22"><a href="data-processing.html#cb15-22" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-23"><a href="data-processing.html#cb15-23" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb15-24"><a href="data-processing.html#cb15-24" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb15-25"><a href="data-processing.html#cb15-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">agreeableness =</span> <span class="fu">rowMeans</span>(</span>
<span id="cb15-26"><a href="data-processing.html#cb15-26" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb15-27"><a href="data-processing.html#cb15-27" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb15-28"><a href="data-processing.html#cb15-28" aria-hidden="true" tabindex="-1"></a>        big_five_2,</span>
<span id="cb15-29"><a href="data-processing.html#cb15-29" aria-hidden="true" tabindex="-1"></a>        big_five_7,</span>
<span id="cb15-30"><a href="data-processing.html#cb15-30" aria-hidden="true" tabindex="-1"></a>        big_five_12,</span>
<span id="cb15-31"><a href="data-processing.html#cb15-31" aria-hidden="true" tabindex="-1"></a>        big_five_17,</span>
<span id="cb15-32"><a href="data-processing.html#cb15-32" aria-hidden="true" tabindex="-1"></a>        big_five_22,</span>
<span id="cb15-33"><a href="data-processing.html#cb15-33" aria-hidden="true" tabindex="-1"></a>        big_five_27,</span>
<span id="cb15-34"><a href="data-processing.html#cb15-34" aria-hidden="true" tabindex="-1"></a>        big_five_32,</span>
<span id="cb15-35"><a href="data-processing.html#cb15-35" aria-hidden="true" tabindex="-1"></a>        big_five_37,</span>
<span id="cb15-36"><a href="data-processing.html#cb15-36" aria-hidden="true" tabindex="-1"></a>        big_five_42</span>
<span id="cb15-37"><a href="data-processing.html#cb15-37" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-38"><a href="data-processing.html#cb15-38" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb15-39"><a href="data-processing.html#cb15-39" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb15-40"><a href="data-processing.html#cb15-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">conscientiousness =</span> <span class="fu">rowMeans</span>(</span>
<span id="cb15-41"><a href="data-processing.html#cb15-41" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb15-42"><a href="data-processing.html#cb15-42" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb15-43"><a href="data-processing.html#cb15-43" aria-hidden="true" tabindex="-1"></a>        big_five_3,</span>
<span id="cb15-44"><a href="data-processing.html#cb15-44" aria-hidden="true" tabindex="-1"></a>        big_five_8,</span>
<span id="cb15-45"><a href="data-processing.html#cb15-45" aria-hidden="true" tabindex="-1"></a>        big_five_13,</span>
<span id="cb15-46"><a href="data-processing.html#cb15-46" aria-hidden="true" tabindex="-1"></a>        big_five_18,</span>
<span id="cb15-47"><a href="data-processing.html#cb15-47" aria-hidden="true" tabindex="-1"></a>        big_five_23,</span>
<span id="cb15-48"><a href="data-processing.html#cb15-48" aria-hidden="true" tabindex="-1"></a>        big_five_28,</span>
<span id="cb15-49"><a href="data-processing.html#cb15-49" aria-hidden="true" tabindex="-1"></a>        big_five_33,</span>
<span id="cb15-50"><a href="data-processing.html#cb15-50" aria-hidden="true" tabindex="-1"></a>        big_five_38,</span>
<span id="cb15-51"><a href="data-processing.html#cb15-51" aria-hidden="true" tabindex="-1"></a>        big_five_43</span>
<span id="cb15-52"><a href="data-processing.html#cb15-52" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-53"><a href="data-processing.html#cb15-53" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb15-54"><a href="data-processing.html#cb15-54" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb15-55"><a href="data-processing.html#cb15-55" aria-hidden="true" tabindex="-1"></a>    <span class="at">neuroticism =</span> <span class="fu">rowMeans</span>(</span>
<span id="cb15-56"><a href="data-processing.html#cb15-56" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb15-57"><a href="data-processing.html#cb15-57" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb15-58"><a href="data-processing.html#cb15-58" aria-hidden="true" tabindex="-1"></a>        big_five_4,</span>
<span id="cb15-59"><a href="data-processing.html#cb15-59" aria-hidden="true" tabindex="-1"></a>        big_five_9,</span>
<span id="cb15-60"><a href="data-processing.html#cb15-60" aria-hidden="true" tabindex="-1"></a>        big_five_14,</span>
<span id="cb15-61"><a href="data-processing.html#cb15-61" aria-hidden="true" tabindex="-1"></a>        big_five_19,</span>
<span id="cb15-62"><a href="data-processing.html#cb15-62" aria-hidden="true" tabindex="-1"></a>        big_five_24,</span>
<span id="cb15-63"><a href="data-processing.html#cb15-63" aria-hidden="true" tabindex="-1"></a>        big_five_29,</span>
<span id="cb15-64"><a href="data-processing.html#cb15-64" aria-hidden="true" tabindex="-1"></a>        big_five_34,</span>
<span id="cb15-65"><a href="data-processing.html#cb15-65" aria-hidden="true" tabindex="-1"></a>        big_five_39</span>
<span id="cb15-66"><a href="data-processing.html#cb15-66" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-67"><a href="data-processing.html#cb15-67" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb15-68"><a href="data-processing.html#cb15-68" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb15-69"><a href="data-processing.html#cb15-69" aria-hidden="true" tabindex="-1"></a>    <span class="at">openness =</span> <span class="fu">rowMeans</span>(</span>
<span id="cb15-70"><a href="data-processing.html#cb15-70" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb15-71"><a href="data-processing.html#cb15-71" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb15-72"><a href="data-processing.html#cb15-72" aria-hidden="true" tabindex="-1"></a>        big_five_5,</span>
<span id="cb15-73"><a href="data-processing.html#cb15-73" aria-hidden="true" tabindex="-1"></a>        big_five_10,</span>
<span id="cb15-74"><a href="data-processing.html#cb15-74" aria-hidden="true" tabindex="-1"></a>        big_five_15,</span>
<span id="cb15-75"><a href="data-processing.html#cb15-75" aria-hidden="true" tabindex="-1"></a>        big_five_20,</span>
<span id="cb15-76"><a href="data-processing.html#cb15-76" aria-hidden="true" tabindex="-1"></a>        big_five_25,</span>
<span id="cb15-77"><a href="data-processing.html#cb15-77" aria-hidden="true" tabindex="-1"></a>        big_five_30,</span>
<span id="cb15-78"><a href="data-processing.html#cb15-78" aria-hidden="true" tabindex="-1"></a>        big_five_35,</span>
<span id="cb15-79"><a href="data-processing.html#cb15-79" aria-hidden="true" tabindex="-1"></a>        big_five_40,</span>
<span id="cb15-80"><a href="data-processing.html#cb15-80" aria-hidden="true" tabindex="-1"></a>        big_five_41,</span>
<span id="cb15-81"><a href="data-processing.html#cb15-81" aria-hidden="true" tabindex="-1"></a>        big_five_44</span>
<span id="cb15-82"><a href="data-processing.html#cb15-82" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb15-83"><a href="data-processing.html#cb15-83" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb15-84"><a href="data-processing.html#cb15-84" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb15-85"><a href="data-processing.html#cb15-85" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Last, some participants didn’t fill out the Big Five items, so they haven an <code>NaN</code> entry for those scales now.
I’ll turn that into an <code>NA</code> value</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="data-processing.html#cb16-1" aria-hidden="true" tabindex="-1"></a>personality <span class="ot">&lt;-</span> </span>
<span id="cb16-2"><a href="data-processing.html#cb16-2" aria-hidden="true" tabindex="-1"></a>  personality <span class="sc">%&gt;%</span> </span>
<span id="cb16-3"><a href="data-processing.html#cb16-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb16-4"><a href="data-processing.html#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb16-5"><a href="data-processing.html#cb16-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(autonomy_trait<span class="sc">:</span>openness),</span>
<span id="cb16-6"><a href="data-processing.html#cb16-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">na_if</span>(.x, <span class="st">&quot;NaN&quot;</span>)</span>
<span id="cb16-7"><a href="data-processing.html#cb16-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb16-8"><a href="data-processing.html#cb16-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="diary-data" class="section level2" number="2.2">
<h2><span class="header-section-number">2.2</span> Diary data</h2>
<p>Let’s load and inspect the diary data.</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="data-processing.html#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load data</span></span>
<span id="cb17-2"><a href="data-processing.html#cb17-2" aria-hidden="true" tabindex="-1"></a>diary_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;diary_raw.csv&quot;</span>))</span></code></pre></div>
<p>Qualtrics names aren’t very informative, so I give some sensible variable names.
Again, there are many variables (i.e., anything before <code>Q21-1</code>) that were part of a different study, which is why I don’t include them here.
Like before, I don’t want to change the raw data object, so I’ll keep using <code>diary</code> as a new object from here on.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="data-processing.html#cb18-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb18-2"><a href="data-processing.html#cb18-2" aria-hidden="true" tabindex="-1"></a>  diary_raw <span class="sc">%&gt;%</span> </span>
<span id="cb18-3"><a href="data-processing.html#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb18-4"><a href="data-processing.html#cb18-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># meta data</span></span>
<span id="cb18-5"><a href="data-processing.html#cb18-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_date =</span> StartDate,</span>
<span id="cb18-6"><a href="data-processing.html#cb18-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_date =</span> EndDate,</span>
<span id="cb18-7"><a href="data-processing.html#cb18-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> Progress,</span>
<span id="cb18-8"><a href="data-processing.html#cb18-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration =</span> Duration__in_seconds_,</span>
<span id="cb18-9"><a href="data-processing.html#cb18-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> Finished,</span>
<span id="cb18-10"><a href="data-processing.html#cb18-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">recorded_date =</span> RecordedDate,</span>
<span id="cb18-11"><a href="data-processing.html#cb18-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> study_id,</span>
<span id="cb18-12"><a href="data-processing.html#cb18-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> Day,</span>
<span id="cb18-13"><a href="data-processing.html#cb18-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> Q27,</span>
<span id="cb18-14"><a href="data-processing.html#cb18-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-15"><a href="data-processing.html#cb18-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># social media subjective estimates</span></span>
<span id="cb18-16"><a href="data-processing.html#cb18-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">hours_subjective =</span> Q21_1,</span>
<span id="cb18-17"><a href="data-processing.html#cb18-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes_subjective =</span> Q21_2,</span>
<span id="cb18-18"><a href="data-processing.html#cb18-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">pickups_subjective =</span> Q22_1,</span>
<span id="cb18-19"><a href="data-processing.html#cb18-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">notifications_subjective =</span> Q23_1,</span>
<span id="cb18-20"><a href="data-processing.html#cb18-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-21"><a href="data-processing.html#cb18-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># arousal</span></span>
<span id="cb18-22"><a href="data-processing.html#cb18-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_positive_peaceful =</span> Q24_1,</span>
<span id="cb18-23"><a href="data-processing.html#cb18-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_positive_calm =</span> Q24_2,</span>
<span id="cb18-24"><a href="data-processing.html#cb18-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_positive_related =</span> Q24_3,</span>
<span id="cb18-25"><a href="data-processing.html#cb18-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_negative_anxious =</span> Q24_4,</span>
<span id="cb18-26"><a href="data-processing.html#cb18-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_negative_jittery =</span> Q24_5,</span>
<span id="cb18-27"><a href="data-processing.html#cb18-27" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_negative_tense =</span> Q24_6,</span>
<span id="cb18-28"><a href="data-processing.html#cb18-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_positive_happy =</span> Q24_7,</span>
<span id="cb18-29"><a href="data-processing.html#cb18-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_positive_energized =</span> Q24_8,</span>
<span id="cb18-30"><a href="data-processing.html#cb18-30" aria-hidden="true" tabindex="-1"></a>    <span class="at">high_positive_excited =</span> Q24_9,</span>
<span id="cb18-31"><a href="data-processing.html#cb18-31" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_negative_sluggish =</span> Q24_10,</span>
<span id="cb18-32"><a href="data-processing.html#cb18-32" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_negative_sad =</span> Q24_11,</span>
<span id="cb18-33"><a href="data-processing.html#cb18-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">low_negative_gloomy =</span> Q24_12,</span>
<span id="cb18-34"><a href="data-processing.html#cb18-34" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-35"><a href="data-processing.html#cb18-35" aria-hidden="true" tabindex="-1"></a>    <span class="co"># autonomy need satisfaction</span></span>
<span id="cb18-36"><a href="data-processing.html#cb18-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">autonomy_ =</span> Q25_1<span class="sc">:</span>Q25_4,</span>
<span id="cb18-37"><a href="data-processing.html#cb18-37" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-38"><a href="data-processing.html#cb18-38" aria-hidden="true" tabindex="-1"></a>    <span class="co"># competence need satisfaction</span></span>
<span id="cb18-39"><a href="data-processing.html#cb18-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">competence_ =</span> Q25_5<span class="sc">:</span>Q25_8,</span>
<span id="cb18-40"><a href="data-processing.html#cb18-40" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-41"><a href="data-processing.html#cb18-41" aria-hidden="true" tabindex="-1"></a>    <span class="co"># relatedness need satisfaction</span></span>
<span id="cb18-42"><a href="data-processing.html#cb18-42" aria-hidden="true" tabindex="-1"></a>    <span class="at">relatedness_ =</span> Q25_9<span class="sc">:</span>Q25_12,</span>
<span id="cb18-43"><a href="data-processing.html#cb18-43" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb18-44"><a href="data-processing.html#cb18-44" aria-hidden="true" tabindex="-1"></a>    <span class="co"># experiences</span></span>
<span id="cb18-45"><a href="data-processing.html#cb18-45" aria-hidden="true" tabindex="-1"></a>    <span class="at">satisfied =</span> Q30_1,</span>
<span id="cb18-46"><a href="data-processing.html#cb18-46" aria-hidden="true" tabindex="-1"></a>    <span class="at">boring =</span> Q30_2,</span>
<span id="cb18-47"><a href="data-processing.html#cb18-47" aria-hidden="true" tabindex="-1"></a>    <span class="at">stressful =</span> Q30_3,</span>
<span id="cb18-48"><a href="data-processing.html#cb18-48" aria-hidden="true" tabindex="-1"></a>    <span class="at">enjoyable =</span> Q30_4</span>
<span id="cb18-49"><a href="data-processing.html#cb18-49" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Next, I make sure those variables have the correct variable type.
I’ll also recode factor levels so that labels are readable.
Note that <code>day</code> goes from <code>1</code> to <code>5</code>.
All participants started on a Monday, which is why I turn <code>day</code> into a factor and reorder the levels.</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="data-processing.html#cb19-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb19-2"><a href="data-processing.html#cb19-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="data-processing.html#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb19-4"><a href="data-processing.html#cb19-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">paste0</span>(<span class="st">&quot;pp_&quot;</span>, id), <span class="co"># add pp for participant just so later I don&#39;t mistake the id variable for a count</span></span>
<span id="cb19-5"><a href="data-processing.html#cb19-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>( <span class="co"># turn those two into factors</span></span>
<span id="cb19-6"><a href="data-processing.html#cb19-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(finished, id, day),</span>
<span id="cb19-7"><a href="data-processing.html#cb19-7" aria-hidden="true" tabindex="-1"></a>      as.factor</span>
<span id="cb19-8"><a href="data-processing.html#cb19-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-9"><a href="data-processing.html#cb19-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb19-10"><a href="data-processing.html#cb19-10" aria-hidden="true" tabindex="-1"></a>      finished,</span>
<span id="cb19-11"><a href="data-processing.html#cb19-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;yes&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb19-12"><a href="data-processing.html#cb19-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;no&quot;</span> <span class="ot">=</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb19-13"><a href="data-processing.html#cb19-13" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb19-14"><a href="data-processing.html#cb19-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb19-15"><a href="data-processing.html#cb19-15" aria-hidden="true" tabindex="-1"></a>      day,</span>
<span id="cb19-16"><a href="data-processing.html#cb19-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;monday&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb19-17"><a href="data-processing.html#cb19-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;tuesday&quot;</span> <span class="ot">=</span> <span class="st">&quot;2&quot;</span>,</span>
<span id="cb19-18"><a href="data-processing.html#cb19-18" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;wednesday&quot;</span> <span class="ot">=</span> <span class="st">&quot;3&quot;</span>,</span>
<span id="cb19-19"><a href="data-processing.html#cb19-19" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;thursday&quot;</span> <span class="ot">=</span> <span class="st">&quot;4&quot;</span>,</span>
<span id="cb19-20"><a href="data-processing.html#cb19-20" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;friday&quot;</span> <span class="ot">=</span> <span class="st">&quot;5&quot;</span></span>
<span id="cb19-21"><a href="data-processing.html#cb19-21" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb19-22"><a href="data-processing.html#cb19-22" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then I identify all empty rows (i.e., rows without a start date, so people who have placeholder <code>id</code>, but didn’t participate on that day).</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="data-processing.html#cb20-1" aria-hidden="true" tabindex="-1"></a>diary_exclusions_1 <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="data-processing.html#cb20-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb20-3"><a href="data-processing.html#cb20-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb20-4"><a href="data-processing.html#cb20-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, day)</span></code></pre></div>
<p>Afterwards, I inspect how many <code>NA</code>s there are per row in Table <a href="data-processing.html#tab:table-diary-na">2.3</a>.
Most participants filled out everything, but a couple of them have basically empty rows (e.g., those with 30 or 40 missing values per row).</p>
<table>
<caption><span id="tab:table-diary-na">Table 2.3: </span>Count of number of missing values per row</caption>
<thead>
<tr class="header">
<th align="right">na_count_row</th>
<th align="right">n</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1072</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">49</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">16</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">3</td>
</tr>
<tr class="odd">
<td align="right">4</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">8</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">9</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">16</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">20</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="right">23</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="right">28</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="right">32</td>
<td align="right">24</td>
</tr>
<tr class="even">
<td align="right">39</td>
<td align="right">336</td>
</tr>
</tbody>
</table>
<p>I manually inspected those with more than 15 missing values and neither of them even finished any of the scales.
Therefore, I’ll exclude them here.</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="data-processing.html#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># exclude those with &gt; 15 missing values</span></span>
<span id="cb21-2"><a href="data-processing.html#cb21-2" aria-hidden="true" tabindex="-1"></a>diary_exclusions_2 <span class="ot">&lt;-</span> </span>
<span id="cb21-3"><a href="data-processing.html#cb21-3" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb21-4"><a href="data-processing.html#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb21-5"><a href="data-processing.html#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">na_count_row =</span> <span class="fu">rowSums</span>(<span class="fu">is.na</span>(.))</span>
<span id="cb21-6"><a href="data-processing.html#cb21-6" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb21-7"><a href="data-processing.html#cb21-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(na_count_row <span class="sc">&gt;</span> <span class="dv">15</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb21-8"><a href="data-processing.html#cb21-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">droplevels</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb21-9"><a href="data-processing.html#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, day)</span></code></pre></div>
Alright, time to construct the means for the scales.
But first, as always with numbers that participants have to fill in themselves, I’ll check for unrealistic entries and general data quality.
I’ll visualize the text entries for hours and minutes on social media and notifications in Figure <a href="data-processing.html#fig:plot-subjective-diary">2.2</a>.
<div class="figure"><span id="fig:plot-subjective-diary"></span>
<img src="analysis_report_files/figure-html/plot-subjective-diary-1.png" alt="Distribution of self-reported social media indicators" width="672" />
<p class="caption">
Figure 2.2: Distribution of self-reported social media indicators
</p>
</div>
<p>For notifications, it’s hard to argue that it’s unrealistic that participants thought they got several hundred of them.
So I will leave those unchanged.
However, there are several outliers in <code>hours_subjective</code> and <code>minutes_subjective</code>.
I manually inspected those cases and it’s hard to tell whether participants just mixed up hours and minutes or whether their entry is indeed not meaningful.
One participant filled in 50h and 500min.
Another 40h.
For those two, I’ll set their subjective values to <code>NA</code>.
One participant filled in 5h and 86min.
The minutes entry might have been a typo, but it’s hard to tell what the participant meant, so I’ll set that to <code>NA</code> as well.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb22-1"><a href="data-processing.html#cb22-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb22-2"><a href="data-processing.html#cb22-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb22-3"><a href="data-processing.html#cb22-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb22-4"><a href="data-processing.html#cb22-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">hours_subjective =</span> <span class="fu">case_when</span>(</span>
<span id="cb22-5"><a href="data-processing.html#cb22-5" aria-hidden="true" tabindex="-1"></a>      hours_subjective <span class="sc">&gt;</span> <span class="dv">24</span> <span class="sc">|</span> minutes_subjective <span class="sc">&gt;</span> <span class="dv">60</span>  <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb22-6"><a href="data-processing.html#cb22-6" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> hours_subjective</span>
<span id="cb22-7"><a href="data-processing.html#cb22-7" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb22-8"><a href="data-processing.html#cb22-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes_subjective =</span> <span class="fu">if_else</span>(</span>
<span id="cb22-9"><a href="data-processing.html#cb22-9" aria-hidden="true" tabindex="-1"></a>      minutes_subjective <span class="sc">&gt;</span> <span class="dv">60</span>,</span>
<span id="cb22-10"><a href="data-processing.html#cb22-10" aria-hidden="true" tabindex="-1"></a>      <span class="cn">NA_real_</span>, </span>
<span id="cb22-11"><a href="data-processing.html#cb22-11" aria-hidden="true" tabindex="-1"></a>      minutes_subjective</span>
<span id="cb22-12"><a href="data-processing.html#cb22-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb22-13"><a href="data-processing.html#cb22-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Next, I check data quality further by seeing whether there are instances of “straightlining.”
For that, I check the variance per daily survey on the well-being scale, need satisfaction, and experiences.</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb23-1"><a href="data-processing.html#cb23-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb23-2"><a href="data-processing.html#cb23-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="data-processing.html#cb23-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb23-4"><a href="data-processing.html#cb23-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb23-5"><a href="data-processing.html#cb23-5" aria-hidden="true" tabindex="-1"></a>      <span class="at">well_being_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb23-6"><a href="data-processing.html#cb23-6" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c_across</span>(low_positive_peaceful<span class="sc">:</span>low_negative_gloomy),</span>
<span id="cb23-7"><a href="data-processing.html#cb23-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb23-8"><a href="data-processing.html#cb23-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb23-9"><a href="data-processing.html#cb23-9" aria-hidden="true" tabindex="-1"></a>      <span class="at">needs_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb23-10"><a href="data-processing.html#cb23-10" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c_across</span>(autonomy_1<span class="sc">:</span>relatedness_4),</span>
<span id="cb23-11"><a href="data-processing.html#cb23-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb23-12"><a href="data-processing.html#cb23-12" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb23-13"><a href="data-processing.html#cb23-13" aria-hidden="true" tabindex="-1"></a>      <span class="at">experiences_sd =</span> <span class="fu">sd</span>(</span>
<span id="cb23-14"><a href="data-processing.html#cb23-14" aria-hidden="true" tabindex="-1"></a>        <span class="fu">c_across</span>(satisfied<span class="sc">:</span>enjoyable),</span>
<span id="cb23-15"><a href="data-processing.html#cb23-15" aria-hidden="true" tabindex="-1"></a>        <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb23-16"><a href="data-processing.html#cb23-16" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb23-17"><a href="data-processing.html#cb23-17" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span> </span>
<span id="cb23-18"><a href="data-processing.html#cb23-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>())</span></code></pre></div>
If we visualize the instances where participants didn’t have any variation in their answers (aka straightlining) in Figure <a href="data-processing.html#fig:plot-variance-diary">2.3</a>, we see that it’s not uncommon.
There are several daily surveys where participants straightlined.
<div class="figure"><span id="fig:plot-variance-diary"></span>
<img src="analysis_report_files/figure-html/plot-variance-diary-1.png" alt="Distribution of variances per survey on three scales" width="672" />
<p class="caption">
Figure 2.3: Distribution of variances per survey on three scales
</p>
</div>
<p>In general, it’s not uncommon to select the same answer, especially for well-being measures.
However, I’d be suspicious of those participants who straightlined for more than one scale (particularly the need satisfaction scale because it has quite a lot of items.)
I’ll check how many surveys there are that have zero variance across those scales and how many participants there are who have at least one straightlining instance in more than 50% of their surveys.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="data-processing.html#cb24-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb24-2"><a href="data-processing.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb24-3"><a href="data-processing.html#cb24-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb24-4"><a href="data-processing.html#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">zero_variances =</span> <span class="fu">rowSums</span>(</span>
<span id="cb24-5"><a href="data-processing.html#cb24-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(., <span class="fu">ends_with</span>(<span class="st">&quot;_sd&quot;</span>)) <span class="sc">==</span> <span class="dv">0</span>, <span class="co"># count instances of zero variance across the three scales</span></span>
<span id="cb24-6"><a href="data-processing.html#cb24-6" aria-hidden="true" tabindex="-1"></a>      <span class="at">na.rm =</span> <span class="cn">TRUE</span></span>
<span id="cb24-7"><a href="data-processing.html#cb24-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb24-8"><a href="data-processing.html#cb24-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Overall, Table <a href="data-processing.html#tab:table-straightliners-diary">2.4</a> shows that 95% of the sample didn’t staightline.</p>
<table>
<caption><span id="tab:table-straightliners-diary">Table 2.4: </span>Percentage of the number of zero variance per row</caption>
<thead>
<tr class="header">
<th align="right">zero_variances</th>
<th align="right">n</th>
<th align="right">percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1440</td>
<td align="right">0.9536424</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">29</td>
<td align="right">0.0192053</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">21</td>
<td align="right">0.0139073</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">20</td>
<td align="right">0.0132450</td>
</tr>
</tbody>
</table>
<p>But there are a couple of participants who seemed to rush through the survey, see Table <a href="data-processing.html#tab:table-percentage-straightliners-diary">2.5</a>.
Manually inspecting them indeed shows that it’s hard to trust their data.
(Note that I temporarily remove the rows identified above because we only want to exclude those straightliners with valid data.)</p>
<table>
<caption><span id="tab:table-percentage-straightliners-diary">Table 2.5: </span>Percentage of participants with a number of zero-variance scales</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="right">total_surveys</th>
<th align="right">total_straightline_surveys</th>
<th align="right">percentage</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pp_172</td>
<td align="right">4</td>
<td align="right">3</td>
<td align="right">0.75</td>
</tr>
<tr class="even">
<td align="left">pp_121</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">0.60</td>
</tr>
<tr class="odd">
<td align="left">pp_164</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">0.60</td>
</tr>
<tr class="even">
<td align="left">pp_169</td>
<td align="right">5</td>
<td align="right">3</td>
<td align="right">0.60</td>
</tr>
<tr class="odd">
<td align="left">pp_103</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.50</td>
</tr>
<tr class="even">
<td align="left">pp_168</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.50</td>
</tr>
<tr class="odd">
<td align="left">pp_290</td>
<td align="right">2</td>
<td align="right">1</td>
<td align="right">0.50</td>
</tr>
<tr class="even">
<td align="left">pp_154</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">0.40</td>
</tr>
<tr class="odd">
<td align="left">pp_198</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">0.40</td>
</tr>
<tr class="even">
<td align="left">pp_35</td>
<td align="right">5</td>
<td align="right">2</td>
<td align="right">0.40</td>
</tr>
</tbody>
</table>
<p>I will exclude those participants and then surveys with more than one instance of straightlining.</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="data-processing.html#cb25-1" aria-hidden="true" tabindex="-1"></a>diary_exclusions_3 <span class="ot">&lt;-</span> </span>
<span id="cb25-2"><a href="data-processing.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(<span class="st">&quot;pp_172&quot;</span>, <span class="st">&quot;pp_121&quot;</span>, <span class="st">&quot;pp_164&quot;</span>, <span class="st">&quot;pp_169&quot;</span>, <span class="st">&quot;pp_103&quot;</span>, <span class="st">&quot;pp_168&quot;</span>, <span class="st">&quot;pp_290&quot;</span>)</span></code></pre></div>
<p>Now there’s very little straightlining left (see Table <a href="data-processing.html#tab:check-variances-again-diary">2.6</a> and compare to Table <a href="data-processing.html#tab:table-straightliners-diary">2.4</a>).</p>
<table>
<caption><span id="tab:check-variances-again-diary">Table 2.6: </span>Percentage of the number of zero variance per row</caption>
<thead>
<tr class="header">
<th align="right">zero_variances</th>
<th align="right">n</th>
<th align="right">percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">1072</td>
<td align="right">0.9571429</td>
</tr>
<tr class="even">
<td align="right">1</td>
<td align="right">20</td>
<td align="right">0.0178571</td>
</tr>
<tr class="odd">
<td align="right">2</td>
<td align="right">14</td>
<td align="right">0.0125000</td>
</tr>
<tr class="even">
<td align="right">3</td>
<td align="right">14</td>
<td align="right">0.0125000</td>
</tr>
</tbody>
</table>
<p>Alright, now we can aggregate the individual items to scale scores.
Some of those items are reverse-coded.
Namely, the third and fourth item for the need satisfaction subscales are reverse coded, as are all negative arousal items (if we want to create a score that shows higher well-being).
See codebook for details.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="data-processing.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="co"># reverse code need items and arousal</span></span>
<span id="cb26-2"><a href="data-processing.html#cb26-2" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb26-3"><a href="data-processing.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb26-4"><a href="data-processing.html#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb26-5"><a href="data-processing.html#cb26-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-6"><a href="data-processing.html#cb26-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(<span class="fu">ends_with</span>(<span class="st">&quot;_3&quot;</span>), <span class="fu">ends_with</span>(<span class="st">&quot;_4&quot;</span>)),</span>
<span id="cb26-7"><a href="data-processing.html#cb26-7" aria-hidden="true" tabindex="-1"></a>      <span class="cf">function</span>(.) <span class="dv">8</span> <span class="sc">-</span> .</span>
<span id="cb26-8"><a href="data-processing.html#cb26-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb26-9"><a href="data-processing.html#cb26-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb26-10"><a href="data-processing.html#cb26-10" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">&quot;negative&quot;</span>),</span>
<span id="cb26-11"><a href="data-processing.html#cb26-11" aria-hidden="true" tabindex="-1"></a>      <span class="cf">function</span>(.) <span class="dv">6</span> <span class="sc">-</span> .</span>
<span id="cb26-12"><a href="data-processing.html#cb26-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb26-13"><a href="data-processing.html#cb26-13" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>I create the scales by taking the mean of the respective items.
I also create a <code>social_media_subjective</code> measure by combining hours and minutes of estimated social media time.</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="data-processing.html#cb27-1" aria-hidden="true" tabindex="-1"></a>diary <span class="ot">&lt;-</span> </span>
<span id="cb27-2"><a href="data-processing.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  diary <span class="sc">%&gt;%</span> </span>
<span id="cb27-3"><a href="data-processing.html#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb27-4"><a href="data-processing.html#cb27-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">social_media_subjective =</span> hours_subjective <span class="sc">*</span> <span class="dv">60</span> <span class="sc">+</span> minutes_subjective,</span>
<span id="cb27-5"><a href="data-processing.html#cb27-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">well_being_state =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., low_positive_peaceful<span class="sc">:</span>low_negative_gloomy), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-6"><a href="data-processing.html#cb27-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">autonomy_state =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">contains</span>(<span class="st">&quot;autonomy&quot;</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-7"><a href="data-processing.html#cb27-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">competence_state =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">contains</span>(<span class="st">&quot;competence&quot;</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb27-8"><a href="data-processing.html#cb27-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">relatedness_state =</span> <span class="fu">rowMeans</span>(<span class="fu">select</span>(., <span class="fu">contains</span>(<span class="st">&quot;relatedness&quot;</span>)), <span class="at">na.rm =</span> <span class="cn">TRUE</span>)</span>
<span id="cb27-9"><a href="data-processing.html#cb27-9" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Further, participants’ first day of participation was always a Monday.
Specifically, three days in April 2019: the 15th, 22nd, 29th.
Let’s check whether all of them indeed have their first day on one of those days.</p>
<p>Table <a href="data-processing.html#tab:check-first-day">2.7</a> shows all day one surveys which were not recorded on one of those three dates.
Indeed, everyone opened their first survey on one of the three start days.
Some participants opened/recorded their answers right after midnight, which is fine.</p>
<table>
<caption><span id="tab:check-first-day">Table 2.7: </span>Recorded dates that weren’t on a Monday</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">start_date</th>
<th align="left">recorded_date</th>
<th align="right">duration</th>
<th align="left">day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pp_21</td>
<td align="left">2019-04-30 00:35:48</td>
<td align="left">2019-04-30 00:57:14</td>
<td align="right">1284</td>
<td align="left">monday</td>
</tr>
<tr class="even">
<td align="left">pp_61</td>
<td align="left">2019-04-29 16:59:21</td>
<td align="left">2019-05-06 17:00:41</td>
<td align="right">72</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_71</td>
<td align="left">2019-04-22 16:01:29</td>
<td align="left">2019-04-24 11:00:01</td>
<td align="right">154711</td>
<td align="left">monday</td>
</tr>
<tr class="even">
<td align="left">pp_110</td>
<td align="left">2019-04-22 20:16:35</td>
<td align="left">2019-04-23 00:30:27</td>
<td align="right">15231</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_120</td>
<td align="left">2019-04-23 00:08:15</td>
<td align="left">2019-04-23 00:20:35</td>
<td align="right">739</td>
<td align="left">monday</td>
</tr>
<tr class="even">
<td align="left">pp_192</td>
<td align="left">2019-04-15 20:36:47</td>
<td align="left">2019-04-16 00:27:47</td>
<td align="right">13859</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_201</td>
<td align="left">2019-04-30 00:27:10</td>
<td align="left">2019-04-30 00:52:59</td>
<td align="right">1548</td>
<td align="left">monday</td>
</tr>
<tr class="even">
<td align="left">pp_211</td>
<td align="left">2019-04-22 17:24:37</td>
<td align="left">2019-04-23 12:13:59</td>
<td align="right">67761</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_257</td>
<td align="left">2019-04-30 00:52:05</td>
<td align="left">2019-04-30 01:21:55</td>
<td align="right">1789</td>
<td align="left">monday</td>
</tr>
<tr class="even">
<td align="left">pp_265</td>
<td align="left">2019-04-29 23:28:18</td>
<td align="left">2019-04-30 01:34:43</td>
<td align="right">7584</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_275</td>
<td align="left">2019-04-29 16:20:39</td>
<td align="left">2019-05-06 16:31:47</td>
<td align="right">648</td>
<td align="left">monday</td>
</tr>
</tbody>
</table>
<p>However, a handful of participants had their survey open for at least a day.
In Table <a href="data-processing.html#tab:check-two-day-delay">2.8</a>, we inspect all instances where there’s more than one day delay between opening and responding to a survey.
Only <code>pp_71</code> took two days to respond to a survey.</p>
<table>
<caption><span id="tab:check-two-day-delay">Table 2.8: </span>More than one day between begin and response to survey</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">start_date</th>
<th align="left">recorded_date</th>
<th align="right">duration</th>
<th align="left">day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pp_71</td>
<td align="left">2019-04-22 16:01:29</td>
<td align="left">2019-04-24 11:00:01</td>
<td align="right">154711</td>
<td align="left">monday</td>
</tr>
</tbody>
</table>
<p>I guess it’s normal that participants open the survey late, forget it, and fill it out when they next day when they wake up.
Because they’re students, waking up might be quite late, so I’ll check in Table <a href="data-processing.html#tab:next-day-late">2.9</a> how many of them responded to a survey later than 10am the next day.
Two participants were really late (i.e., responded after noon).</p>
<pre><code>## Joining, by = c(&quot;id&quot;, &quot;day&quot;)
## Joining, by = c(&quot;id&quot;, &quot;day&quot;)</code></pre>
<table>
<caption><span id="tab:next-day-late">Table 2.9: </span>Those who filled in the survey the next day</caption>
<thead>
<tr class="header">
<th align="left">id</th>
<th align="left">start_date</th>
<th align="left">recorded_date</th>
<th align="right">duration</th>
<th align="left">day</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">pp_53</td>
<td align="left">2019-04-18 16:11:51</td>
<td align="left">2019-04-19 10:08:16</td>
<td align="right">64584</td>
<td align="left">thursday</td>
</tr>
<tr class="even">
<td align="left">pp_71</td>
<td align="left">2019-04-22 16:01:29</td>
<td align="left">2019-04-24 11:00:01</td>
<td align="right">154711</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_98</td>
<td align="left">2019-04-30 17:21:21</td>
<td align="left">2019-05-01 12:03:12</td>
<td align="right">67310</td>
<td align="left">tuesday</td>
</tr>
<tr class="even">
<td align="left">pp_161</td>
<td align="left">2019-05-02 18:15:49</td>
<td align="left">2019-05-03 10:05:25</td>
<td align="right">56975</td>
<td align="left">thursday</td>
</tr>
<tr class="odd">
<td align="left">pp_162</td>
<td align="left">2019-04-30 22:00:37</td>
<td align="left">2019-05-01 10:52:15</td>
<td align="right">46297</td>
<td align="left">tuesday</td>
</tr>
<tr class="even">
<td align="left">pp_211</td>
<td align="left">2019-04-22 17:24:37</td>
<td align="left">2019-04-23 12:13:59</td>
<td align="right">67761</td>
<td align="left">monday</td>
</tr>
<tr class="odd">
<td align="left">pp_211</td>
<td align="left">2019-04-23 23:40:53</td>
<td align="left">2019-04-24 10:30:27</td>
<td align="right">38972</td>
<td align="left">tuesday</td>
</tr>
<tr class="even">
<td align="left">pp_244</td>
<td align="left">2019-04-19 18:45:44</td>
<td align="left">2019-04-20 11:52:12</td>
<td align="right">61587</td>
<td align="left">friday</td>
</tr>
</tbody>
</table>
<p>I manually checked the data from all those participants who filled out surveys so late that two surveys were recorded on the same day.
<code>pp_71</code> responded to the Monday survey on Wednesday, in addition to the “regular” Wednesday survey.
For that reason, we can’t know whether <code>day</code> one refers to Monday or Tuesday.
All other participants are fine: They sometimes recorded their response late, but their response pattern shows no indication that they couldn’t refer to a clear day in their response.</p>
<p>Therefore, I remove the <code>day</code> one survey of <code>pp_71</code> because we can’t tell to which day it refers, but leave the rest as is.</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="data-processing.html#cb29-1" aria-hidden="true" tabindex="-1"></a>diary_exclusions_4 <span class="ot">&lt;-</span> </span>
<span id="cb29-2"><a href="data-processing.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tibble</span>(<span class="at">id =</span> <span class="st">&quot;pp_71&quot;</span>, <span class="at">day =</span> <span class="st">&quot;monday&quot;</span>)</span></code></pre></div>
</div>
<div id="screen-time-data" class="section level2" number="2.3">
<h2><span class="header-section-number">2.3</span> Screen time data</h2>
<p>Load the screen time data.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="data-processing.html#cb30-1" aria-hidden="true" tabindex="-1"></a>screen_time_raw <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;screen_time_raw.csv&quot;</span>))</span></code></pre></div>
<p>Alright, the data are extremely wide because of the Qualtrics format.
There are 220 variables in total.
The data look like this:</p>
<ul>
<li>Total time over the past week of social media, plus total time per day (<code>Q2_1</code> to <code>Q10_2</code>)</li>
<li>Typing in the top ten social networking media (<code>Q4_1</code> to <code>Q4_10</code>)</li>
<li>Then participants filled in 13 items for each of those ten apps, first total time and notifications for the week for that app, then hours and minutes per day for that app (total 130 items, <code>Q3_1</code> to <code>Q76_2</code>)</li>
<li>Then participants reported six items per each of the ten apps, the first of which was overall pickups in the past week, followed by pickups for each day of the week (<code>Q17_1_TEXT</code> to <code>Q17_10_5</code>)</li>
</ul>
<p>Before turning the data into long format, I need to give some sensible variables names.
However, manually renaming all variables is a real pain.
So I’ll create the names systematically and store them in a vector, then assign them to the variables.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="data-processing.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># define days</span></span>
<span id="cb31-2"><a href="data-processing.html#cb31-2" aria-hidden="true" tabindex="-1"></a>days <span class="ot">&lt;-</span></span>
<span id="cb31-3"><a href="data-processing.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">c</span>(</span>
<span id="cb31-4"><a href="data-processing.html#cb31-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;monday&quot;</span>,</span>
<span id="cb31-5"><a href="data-processing.html#cb31-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;tuesday&quot;</span>,</span>
<span id="cb31-6"><a href="data-processing.html#cb31-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;wednesday&quot;</span>,</span>
<span id="cb31-7"><a href="data-processing.html#cb31-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;thursday&quot;</span>,</span>
<span id="cb31-8"><a href="data-processing.html#cb31-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;friday&quot;</span></span>
<span id="cb31-9"><a href="data-processing.html#cb31-9" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-10"><a href="data-processing.html#cb31-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-11"><a href="data-processing.html#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co"># the list of apps</span></span>
<span id="cb31-12"><a href="data-processing.html#cb31-12" aria-hidden="true" tabindex="-1"></a>apps <span class="ot">&lt;-</span> </span>
<span id="cb31-13"><a href="data-processing.html#cb31-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-14"><a href="data-processing.html#cb31-14" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="st">&quot;app_&quot;</span>, <span class="dv">10</span>),</span>
<span id="cb31-15"><a href="data-processing.html#cb31-15" aria-hidden="true" tabindex="-1"></a>    <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb31-16"><a href="data-processing.html#cb31-16" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-17"><a href="data-processing.html#cb31-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-18"><a href="data-processing.html#cb31-18" aria-hidden="true" tabindex="-1"></a><span class="co"># add hours and minutes to apps</span></span>
<span id="cb31-19"><a href="data-processing.html#cb31-19" aria-hidden="true" tabindex="-1"></a>apps_times <span class="ot">&lt;-</span> </span>
<span id="cb31-20"><a href="data-processing.html#cb31-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-21"><a href="data-processing.html#cb31-21" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(apps, <span class="at">each =</span> <span class="dv">6</span><span class="sc">*</span><span class="dv">2</span>),</span>
<span id="cb31-22"><a href="data-processing.html#cb31-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_&quot;</span>,</span>
<span id="cb31-23"><a href="data-processing.html#cb31-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">&quot;hours&quot;</span>, <span class="st">&quot;minutes&quot;</span>)</span>
<span id="cb31-24"><a href="data-processing.html#cb31-24" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-25"><a href="data-processing.html#cb31-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-26"><a href="data-processing.html#cb31-26" aria-hidden="true" tabindex="-1"></a><span class="co"># the overall time per week and day</span></span>
<span id="cb31-27"><a href="data-processing.html#cb31-27" aria-hidden="true" tabindex="-1"></a>names1 <span class="ot">&lt;-</span> </span>
<span id="cb31-28"><a href="data-processing.html#cb31-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-29"><a href="data-processing.html#cb31-29" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;hours_total_&quot;</span>, <span class="st">&quot;minutes_total_&quot;</span>),<span class="dv">6</span>),</span>
<span id="cb31-30"><a href="data-processing.html#cb31-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;week&quot;</span>, days), <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb31-31"><a href="data-processing.html#cb31-31" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-32"><a href="data-processing.html#cb31-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-33"><a href="data-processing.html#cb31-33" aria-hidden="true" tabindex="-1"></a><span class="co"># now app, minutes, hours, per day</span></span>
<span id="cb31-34"><a href="data-processing.html#cb31-34" aria-hidden="true" tabindex="-1"></a>names2 <span class="ot">&lt;-</span> </span>
<span id="cb31-35"><a href="data-processing.html#cb31-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-36"><a href="data-processing.html#cb31-36" aria-hidden="true" tabindex="-1"></a>    apps_times,</span>
<span id="cb31-37"><a href="data-processing.html#cb31-37" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_&quot;</span>,</span>
<span id="cb31-38"><a href="data-processing.html#cb31-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;week&quot;</span>, days), <span class="at">each =</span> <span class="dv">2</span>)</span>
<span id="cb31-39"><a href="data-processing.html#cb31-39" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-40"><a href="data-processing.html#cb31-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-41"><a href="data-processing.html#cb31-41" aria-hidden="true" tabindex="-1"></a><span class="co"># notifications per day</span></span>
<span id="cb31-42"><a href="data-processing.html#cb31-42" aria-hidden="true" tabindex="-1"></a>names3 <span class="ot">&lt;-</span> </span>
<span id="cb31-43"><a href="data-processing.html#cb31-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-44"><a href="data-processing.html#cb31-44" aria-hidden="true" tabindex="-1"></a>    apps,</span>
<span id="cb31-45"><a href="data-processing.html#cb31-45" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_&quot;</span>,</span>
<span id="cb31-46"><a href="data-processing.html#cb31-46" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;notifications&quot;</span>,</span>
<span id="cb31-47"><a href="data-processing.html#cb31-47" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_week&quot;</span></span>
<span id="cb31-48"><a href="data-processing.html#cb31-48" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb31-49"><a href="data-processing.html#cb31-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-50"><a href="data-processing.html#cb31-50" aria-hidden="true" tabindex="-1"></a><span class="co"># pickups per week and day</span></span>
<span id="cb31-51"><a href="data-processing.html#cb31-51" aria-hidden="true" tabindex="-1"></a>names4 <span class="ot">&lt;-</span> </span>
<span id="cb31-52"><a href="data-processing.html#cb31-52" aria-hidden="true" tabindex="-1"></a>  <span class="fu">paste0</span>(</span>
<span id="cb31-53"><a href="data-processing.html#cb31-53" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(apps, <span class="at">each =</span> <span class="dv">6</span>),</span>
<span id="cb31-54"><a href="data-processing.html#cb31-54" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;_pickups_&quot;</span>,</span>
<span id="cb31-55"><a href="data-processing.html#cb31-55" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rep</span>(<span class="fu">c</span>(<span class="st">&quot;week&quot;</span>, days), <span class="dv">6</span>)</span>
<span id="cb31-56"><a href="data-processing.html#cb31-56" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then I apply those names.
Once more, I use a new object and don’t overwrite the raw data.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="data-processing.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="co"># let&#39;s rename</span></span>
<span id="cb32-2"><a href="data-processing.html#cb32-2" aria-hidden="true" tabindex="-1"></a>screen_time <span class="ot">&lt;-</span> </span>
<span id="cb32-3"><a href="data-processing.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  screen_time_raw <span class="sc">%&gt;%</span> </span>
<span id="cb32-4"><a href="data-processing.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-5"><a href="data-processing.html#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="co"># meta-data</span></span>
<span id="cb32-6"><a href="data-processing.html#cb32-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb32-7"><a href="data-processing.html#cb32-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">start_date =</span> StartDate,</span>
<span id="cb32-8"><a href="data-processing.html#cb32-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">end_date =</span> EndDate,</span>
<span id="cb32-9"><a href="data-processing.html#cb32-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">progress =</span> Progress,</span>
<span id="cb32-10"><a href="data-processing.html#cb32-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">duration =</span> Duration__in_seconds_,</span>
<span id="cb32-11"><a href="data-processing.html#cb32-11" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> Finished,</span>
<span id="cb32-12"><a href="data-processing.html#cb32-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">recorded_date =</span> RecordedDate,</span>
<span id="cb32-13"><a href="data-processing.html#cb32-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> study_id</span>
<span id="cb32-14"><a href="data-processing.html#cb32-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-15"><a href="data-processing.html#cb32-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-16"><a href="data-processing.html#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the overall time per week and day</span></span>
<span id="cb32-17"><a href="data-processing.html#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb32-18"><a href="data-processing.html#cb32-18" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> names1,</span>
<span id="cb32-19"><a href="data-processing.html#cb32-19" aria-hidden="true" tabindex="-1"></a>    Q2_1<span class="sc">:</span>Q10_2</span>
<span id="cb32-20"><a href="data-processing.html#cb32-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-21"><a href="data-processing.html#cb32-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-22"><a href="data-processing.html#cb32-22" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the top ten apps</span></span>
<span id="cb32-23"><a href="data-processing.html#cb32-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb32-24"><a href="data-processing.html#cb32-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">app_ =</span> Q4_1<span class="sc">:</span>Q4_10</span>
<span id="cb32-25"><a href="data-processing.html#cb32-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-26"><a href="data-processing.html#cb32-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-27"><a href="data-processing.html#cb32-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># now rename all app minutes and hours per day</span></span>
<span id="cb32-28"><a href="data-processing.html#cb32-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb32-29"><a href="data-processing.html#cb32-29" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> names2,</span>
<span id="cb32-30"><a href="data-processing.html#cb32-30" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>( <span class="co"># except the notifications because they don&#39;t fit the pattern</span></span>
<span id="cb32-31"><a href="data-processing.html#cb32-31" aria-hidden="true" tabindex="-1"></a>      Q3_1<span class="sc">:</span>Q76_2,</span>
<span id="cb32-32"><a href="data-processing.html#cb32-32" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q11_1,</span>
<span id="cb32-33"><a href="data-processing.html#cb32-33" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q22_1,</span>
<span id="cb32-34"><a href="data-processing.html#cb32-34" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q78_1,</span>
<span id="cb32-35"><a href="data-processing.html#cb32-35" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q29_1,</span>
<span id="cb32-36"><a href="data-processing.html#cb32-36" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q43_1,</span>
<span id="cb32-37"><a href="data-processing.html#cb32-37" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q36_1,</span>
<span id="cb32-38"><a href="data-processing.html#cb32-38" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q50_1,</span>
<span id="cb32-39"><a href="data-processing.html#cb32-39" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q57_1,</span>
<span id="cb32-40"><a href="data-processing.html#cb32-40" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q64_1,</span>
<span id="cb32-41"><a href="data-processing.html#cb32-41" aria-hidden="true" tabindex="-1"></a>      <span class="sc">-</span>Q71_1</span>
<span id="cb32-42"><a href="data-processing.html#cb32-42" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-43"><a href="data-processing.html#cb32-43" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-44"><a href="data-processing.html#cb32-44" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-45"><a href="data-processing.html#cb32-45" aria-hidden="true" tabindex="-1"></a>  <span class="co"># the past week notifications per app</span></span>
<span id="cb32-46"><a href="data-processing.html#cb32-46" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb32-47"><a href="data-processing.html#cb32-47" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> names3,</span>
<span id="cb32-48"><a href="data-processing.html#cb32-48" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(</span>
<span id="cb32-49"><a href="data-processing.html#cb32-49" aria-hidden="true" tabindex="-1"></a>      Q11_1,</span>
<span id="cb32-50"><a href="data-processing.html#cb32-50" aria-hidden="true" tabindex="-1"></a>      Q22_1,</span>
<span id="cb32-51"><a href="data-processing.html#cb32-51" aria-hidden="true" tabindex="-1"></a>      Q78_1,</span>
<span id="cb32-52"><a href="data-processing.html#cb32-52" aria-hidden="true" tabindex="-1"></a>      Q29_1,</span>
<span id="cb32-53"><a href="data-processing.html#cb32-53" aria-hidden="true" tabindex="-1"></a>      Q43_1,</span>
<span id="cb32-54"><a href="data-processing.html#cb32-54" aria-hidden="true" tabindex="-1"></a>      Q36_1,</span>
<span id="cb32-55"><a href="data-processing.html#cb32-55" aria-hidden="true" tabindex="-1"></a>      Q50_1,</span>
<span id="cb32-56"><a href="data-processing.html#cb32-56" aria-hidden="true" tabindex="-1"></a>      Q57_1,</span>
<span id="cb32-57"><a href="data-processing.html#cb32-57" aria-hidden="true" tabindex="-1"></a>      Q64_1,</span>
<span id="cb32-58"><a href="data-processing.html#cb32-58" aria-hidden="true" tabindex="-1"></a>      Q71_1</span>
<span id="cb32-59"><a href="data-processing.html#cb32-59" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb32-60"><a href="data-processing.html#cb32-60" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-61"><a href="data-processing.html#cb32-61" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-62"><a href="data-processing.html#cb32-62" aria-hidden="true" tabindex="-1"></a>  <span class="co"># rename pickup variables</span></span>
<span id="cb32-63"><a href="data-processing.html#cb32-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_with</span>(</span>
<span id="cb32-64"><a href="data-processing.html#cb32-64" aria-hidden="true" tabindex="-1"></a>    <span class="sc">~</span> names4,</span>
<span id="cb32-65"><a href="data-processing.html#cb32-65" aria-hidden="true" tabindex="-1"></a>    Q17_1_TEXT<span class="sc">:</span>Q17_10_5</span>
<span id="cb32-66"><a href="data-processing.html#cb32-66" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb32-67"><a href="data-processing.html#cb32-67" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb32-68"><a href="data-processing.html#cb32-68" aria-hidden="true" tabindex="-1"></a>  <span class="co"># only keep variables of interest</span></span>
<span id="cb32-69"><a href="data-processing.html#cb32-69" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb32-70"><a href="data-processing.html#cb32-70" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>Status</span>
<span id="cb32-71"><a href="data-processing.html#cb32-71" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb32-72"><a href="data-processing.html#cb32-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-73"><a href="data-processing.html#cb32-73" aria-hidden="true" tabindex="-1"></a><span class="co"># remove name objects (they were only temp files)</span></span>
<span id="cb32-74"><a href="data-processing.html#cb32-74" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(apps, apps_times, days, names1, names2, names3, names4)</span></code></pre></div>
<p>Before I assign variables types and factor levels, I saw that, for some reason, the past week’s number of pickups for each app have text entries, not numerical (i.e., <code>"twenty one"</code> instead of <code>21</code>).
I know that the <code>english</code> package can translate numbers to words, but not the other way around.
Thank god, someone has written a function for this, see full details <a href="https://stackoverflow.com/questions/18332463/convert-written-number-to-number-in-r">here</a>.
The function is in the <a href="setting-up.html#setting-up">Setting up</a> chapter.
Note that this <code>word2num</code> function doesn’t work well with the word “and.”
For example, <code>"three hundred and eleven"</code> turns into <code>611</code>, but <code>"three hundred eleven"</code> turns into the correct <code>311</code>.
Therefore, I first remove all “and”s from those variables, then apply the function.
Similarly, I’ll replace all “a” with “one” (e.g., “a hundred” to “one hundred”).
One participant also replied with a string (that they access facebook via their browser), so I’ll set that to <code>NA</code>.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="data-processing.html#cb33-1" aria-hidden="true" tabindex="-1"></a>screen_time <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="data-processing.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb33-3"><a href="data-processing.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb33-4"><a href="data-processing.html#cb33-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb33-5"><a href="data-processing.html#cb33-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ends_with</span>(<span class="st">&quot;pickups_week&quot;</span>),</span>
<span id="cb33-6"><a href="data-processing.html#cb33-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">case_when</span>(</span>
<span id="cb33-7"><a href="data-processing.html#cb33-7" aria-hidden="true" tabindex="-1"></a>        .x <span class="sc">==</span> <span class="st">&quot;NA because accessed Facebook through Safari&quot;</span> <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb33-8"><a href="data-processing.html#cb33-8" aria-hidden="true" tabindex="-1"></a>        .x <span class="sc">==</span> <span class="st">&quot;NA because accessed Twitter through Safari&quot;</span> <span class="sc">~</span> <span class="cn">NA_character_</span>,</span>
<span id="cb33-9"><a href="data-processing.html#cb33-9" aria-hidden="true" tabindex="-1"></a>        <span class="cn">TRUE</span> <span class="sc">~</span> .x</span>
<span id="cb33-10"><a href="data-processing.html#cb33-10" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb33-11"><a href="data-processing.html#cb33-11" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-12"><a href="data-processing.html#cb33-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb33-13"><a href="data-processing.html#cb33-13" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ends_with</span>(<span class="st">&quot;pickups_week&quot;</span>),</span>
<span id="cb33-14"><a href="data-processing.html#cb33-14" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">str_remove</span>(.x, <span class="st">&quot;and&quot;</span>)</span>
<span id="cb33-15"><a href="data-processing.html#cb33-15" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-16"><a href="data-processing.html#cb33-16" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb33-17"><a href="data-processing.html#cb33-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ends_with</span>(<span class="st">&quot;pickups_week&quot;</span>),</span>
<span id="cb33-18"><a href="data-processing.html#cb33-18" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">str_replace</span>(.x, <span class="st">&quot;A &quot;</span>, <span class="st">&quot;one &quot;</span>)</span>
<span id="cb33-19"><a href="data-processing.html#cb33-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-20"><a href="data-processing.html#cb33-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb33-21"><a href="data-processing.html#cb33-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rowwise</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb33-22"><a href="data-processing.html#cb33-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb33-23"><a href="data-processing.html#cb33-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb33-24"><a href="data-processing.html#cb33-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ends_with</span>(<span class="st">&quot;pickups_week&quot;</span>),</span>
<span id="cb33-25"><a href="data-processing.html#cb33-25" aria-hidden="true" tabindex="-1"></a>      word2num</span>
<span id="cb33-26"><a href="data-processing.html#cb33-26" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb33-27"><a href="data-processing.html#cb33-27" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb33-28"><a href="data-processing.html#cb33-28" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ends_with</span>(<span class="st">&quot;pickups_week&quot;</span>),</span>
<span id="cb33-29"><a href="data-processing.html#cb33-29" aria-hidden="true" tabindex="-1"></a>      unlist</span>
<span id="cb33-30"><a href="data-processing.html#cb33-30" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb33-31"><a href="data-processing.html#cb33-31" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb33-32"><a href="data-processing.html#cb33-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">unnest</span>(<span class="at">cols =</span> <span class="fu">c</span>())</span></code></pre></div>
<p>Next, I assign correct variable types and factor levels.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="data-processing.html#cb34-1" aria-hidden="true" tabindex="-1"></a>screen_time <span class="ot">&lt;-</span> </span>
<span id="cb34-2"><a href="data-processing.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb34-3"><a href="data-processing.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb34-4"><a href="data-processing.html#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">paste0</span>(<span class="st">&quot;pp_&quot;</span>, id),</span>
<span id="cb34-5"><a href="data-processing.html#cb34-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>( <span class="co"># turn those two into factors</span></span>
<span id="cb34-6"><a href="data-processing.html#cb34-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(finished, id),</span>
<span id="cb34-7"><a href="data-processing.html#cb34-7" aria-hidden="true" tabindex="-1"></a>      as.factor</span>
<span id="cb34-8"><a href="data-processing.html#cb34-8" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb34-9"><a href="data-processing.html#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">finished =</span> <span class="fu">fct_recode</span>(</span>
<span id="cb34-10"><a href="data-processing.html#cb34-10" aria-hidden="true" tabindex="-1"></a>      finished,</span>
<span id="cb34-11"><a href="data-processing.html#cb34-11" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;yes&quot;</span> <span class="ot">=</span> <span class="st">&quot;1&quot;</span>,</span>
<span id="cb34-12"><a href="data-processing.html#cb34-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;no&quot;</span> <span class="ot">=</span> <span class="st">&quot;0&quot;</span></span>
<span id="cb34-13"><a href="data-processing.html#cb34-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb34-14"><a href="data-processing.html#cb34-14" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then I exclude empty rows.
The data set has all participant numbers even when they didn’t participate, so I’ll identify those without a start date as well as those who didn’t fill in <code>app_1</code>, which means they have empty rows other than the meta-data.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="data-processing.html#cb35-1" aria-hidden="true" tabindex="-1"></a>screen_time_exclusions_1 <span class="ot">&lt;-</span> </span>
<span id="cb35-2"><a href="data-processing.html#cb35-2" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb35-3"><a href="data-processing.html#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="fu">is.na</span>(start_date) <span class="sc">|</span> <span class="fu">is.na</span>(app_1)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-4"><a href="data-processing.html#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">droplevels</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb35-5"><a href="data-processing.html#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id)</span></code></pre></div>
<p>At this point, the data set has measures on two levels: per app and time frame (day, full week), and the total times across all apps per day.
I think it’s easiest to separate the data.
The per app data are only informative for plotting and descriptives, but the actual data we’re interested in are the total times summed across all apps.
So I’ll first get the per data app (excluding empty rows temporarily from <code>screen_time</code>).
Note that I add the names of the apps in a separate step and then calculate the objective social media time.</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="data-processing.html#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># turn app data long</span></span>
<span id="cb36-2"><a href="data-processing.html#cb36-2" aria-hidden="true" tabindex="-1"></a>apps_long <span class="ot">&lt;-</span> </span>
<span id="cb36-3"><a href="data-processing.html#cb36-3" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb36-4"><a href="data-processing.html#cb36-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-5"><a href="data-processing.html#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(app_1)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-6"><a href="data-processing.html#cb36-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">droplevels</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-7"><a href="data-processing.html#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb36-8"><a href="data-processing.html#cb36-8" aria-hidden="true" tabindex="-1"></a>    start_date<span class="sc">:</span>id,</span>
<span id="cb36-9"><a href="data-processing.html#cb36-9" aria-hidden="true" tabindex="-1"></a>    app_1_hours_week<span class="sc">:</span>app_10_pickups_friday</span>
<span id="cb36-10"><a href="data-processing.html#cb36-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-11"><a href="data-processing.html#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb36-12"><a href="data-processing.html#cb36-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">c</span>(app_1_hours_week<span class="sc">:</span>app_10_pickups_friday),</span>
<span id="cb36-13"><a href="data-processing.html#cb36-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(</span>
<span id="cb36-14"><a href="data-processing.html#cb36-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;app&quot;</span>,</span>
<span id="cb36-15"><a href="data-processing.html#cb36-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;rank&quot;</span>,</span>
<span id="cb36-16"><a href="data-processing.html#cb36-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;measure&quot;</span>,</span>
<span id="cb36-17"><a href="data-processing.html#cb36-17" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;time_frame&quot;</span></span>
<span id="cb36-18"><a href="data-processing.html#cb36-18" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb36-19"><a href="data-processing.html#cb36-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb36-20"><a href="data-processing.html#cb36-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-21"><a href="data-processing.html#cb36-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>( <span class="co"># then spread the measure variable which now contains hours, minutes, notifications, pickups</span></span>
<span id="cb36-22"><a href="data-processing.html#cb36-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">&quot;measure&quot;</span>,</span>
<span id="cb36-23"><a href="data-processing.html#cb36-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">&quot;value&quot;</span></span>
<span id="cb36-24"><a href="data-processing.html#cb36-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-25"><a href="data-processing.html#cb36-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>app) <span class="co"># redundant</span></span>
<span id="cb36-26"><a href="data-processing.html#cb36-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-27"><a href="data-processing.html#cb36-27" aria-hidden="true" tabindex="-1"></a><span class="co"># get the names of the apps</span></span>
<span id="cb36-28"><a href="data-processing.html#cb36-28" aria-hidden="true" tabindex="-1"></a>app_names <span class="ot">&lt;-</span> </span>
<span id="cb36-29"><a href="data-processing.html#cb36-29" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb36-30"><a href="data-processing.html#cb36-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-31"><a href="data-processing.html#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(app_1)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-32"><a href="data-processing.html#cb36-32" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">droplevels</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb36-33"><a href="data-processing.html#cb36-33" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb36-34"><a href="data-processing.html#cb36-34" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb36-35"><a href="data-processing.html#cb36-35" aria-hidden="true" tabindex="-1"></a>    app_1<span class="sc">:</span>app_10</span>
<span id="cb36-36"><a href="data-processing.html#cb36-36" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-37"><a href="data-processing.html#cb36-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb36-38"><a href="data-processing.html#cb36-38" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>id,</span>
<span id="cb36-39"><a href="data-processing.html#cb36-39" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">&quot;app&quot;</span>, <span class="st">&quot;rank&quot;</span>),</span>
<span id="cb36-40"><a href="data-processing.html#cb36-40" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb36-41"><a href="data-processing.html#cb36-41" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-42"><a href="data-processing.html#cb36-42" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>app) <span class="sc">%&gt;%</span> <span class="co"># redundant</span></span>
<span id="cb36-43"><a href="data-processing.html#cb36-43" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(</span>
<span id="cb36-44"><a href="data-processing.html#cb36-44" aria-hidden="true" tabindex="-1"></a>    <span class="at">app =</span> value <span class="co"># contains name of app</span></span>
<span id="cb36-45"><a href="data-processing.html#cb36-45" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb36-46"><a href="data-processing.html#cb36-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-47"><a href="data-processing.html#cb36-47" aria-hidden="true" tabindex="-1"></a><span class="co"># add them to the long data set</span></span>
<span id="cb36-48"><a href="data-processing.html#cb36-48" aria-hidden="true" tabindex="-1"></a>apps_long <span class="ot">&lt;-</span> </span>
<span id="cb36-49"><a href="data-processing.html#cb36-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb36-50"><a href="data-processing.html#cb36-50" aria-hidden="true" tabindex="-1"></a>    apps_long,</span>
<span id="cb36-51"><a href="data-processing.html#cb36-51" aria-hidden="true" tabindex="-1"></a>    app_names,</span>
<span id="cb36-52"><a href="data-processing.html#cb36-52" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;rank&quot;</span>)</span>
<span id="cb36-53"><a href="data-processing.html#cb36-53" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-54"><a href="data-processing.html#cb36-54" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(</span>
<span id="cb36-55"><a href="data-processing.html#cb36-55" aria-hidden="true" tabindex="-1"></a>    app, </span>
<span id="cb36-56"><a href="data-processing.html#cb36-56" aria-hidden="true" tabindex="-1"></a>    <span class="at">.after =</span> rank</span>
<span id="cb36-57"><a href="data-processing.html#cb36-57" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb36-58"><a href="data-processing.html#cb36-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb36-59"><a href="data-processing.html#cb36-59" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if someone only filled in minutes, but not hours, turn hours to 0</span></span>
<span id="cb36-60"><a href="data-processing.html#cb36-60" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb36-61"><a href="data-processing.html#cb36-61" aria-hidden="true" tabindex="-1"></a>   <span class="at">hours =</span> <span class="fu">case_when</span>(</span>
<span id="cb36-62"><a href="data-processing.html#cb36-62" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-63"><a href="data-processing.html#cb36-63" aria-hidden="true" tabindex="-1"></a>    <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb36-64"><a href="data-processing.html#cb36-64" aria-hidden="true" tabindex="-1"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> hours</span>
<span id="cb36-65"><a href="data-processing.html#cb36-65" aria-hidden="true" tabindex="-1"></a>   ),</span>
<span id="cb36-66"><a href="data-processing.html#cb36-66" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb36-67"><a href="data-processing.html#cb36-67" aria-hidden="true" tabindex="-1"></a>   <span class="co"># when someone only filled in hours, but not minutes, turn minutes to 0</span></span>
<span id="cb36-68"><a href="data-processing.html#cb36-68" aria-hidden="true" tabindex="-1"></a>   <span class="at">minutes =</span> <span class="fu">case_when</span>(</span>
<span id="cb36-69"><a href="data-processing.html#cb36-69" aria-hidden="true" tabindex="-1"></a>     <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb36-70"><a href="data-processing.html#cb36-70" aria-hidden="true" tabindex="-1"></a>     <span class="sc">!</span><span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb36-71"><a href="data-processing.html#cb36-71" aria-hidden="true" tabindex="-1"></a>     <span class="cn">TRUE</span> <span class="sc">~</span> minutes</span>
<span id="cb36-72"><a href="data-processing.html#cb36-72" aria-hidden="true" tabindex="-1"></a>   ),</span>
<span id="cb36-73"><a href="data-processing.html#cb36-73" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb36-74"><a href="data-processing.html#cb36-74" aria-hidden="true" tabindex="-1"></a>   <span class="co"># total time</span></span>
<span id="cb36-75"><a href="data-processing.html#cb36-75" aria-hidden="true" tabindex="-1"></a>   <span class="at">social_media_objective =</span> hours <span class="sc">*</span> <span class="dv">60</span> <span class="sc">+</span> minutes</span>
<span id="cb36-76"><a href="data-processing.html#cb36-76" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then I get the total times across all apps in the long format.
Note that participants reported their screen time on the weekend.
Thus, their reports for week will not be identical with the sum of Monday to Friday, because the screen time feature measures time on the weekend as well (aka additional screen time measured from the end of Friday until the moment they reported their weekly screen time).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="data-processing.html#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get total screen time (of all social media apps in long format)</span></span>
<span id="cb37-2"><a href="data-processing.html#cb37-2" aria-hidden="true" tabindex="-1"></a>totals_long <span class="ot">&lt;-</span> </span>
<span id="cb37-3"><a href="data-processing.html#cb37-3" aria-hidden="true" tabindex="-1"></a>  screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb37-4"><a href="data-processing.html#cb37-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(start_date)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-5"><a href="data-processing.html#cb37-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(app_1)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-6"><a href="data-processing.html#cb37-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">id =</span> <span class="fu">droplevels</span>(id)) <span class="sc">%&gt;%</span> </span>
<span id="cb37-7"><a href="data-processing.html#cb37-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb37-8"><a href="data-processing.html#cb37-8" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb37-9"><a href="data-processing.html#cb37-9" aria-hidden="true" tabindex="-1"></a>    hours_total_week<span class="sc">:</span>minutes_total_friday</span>
<span id="cb37-10"><a href="data-processing.html#cb37-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-11"><a href="data-processing.html#cb37-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb37-12"><a href="data-processing.html#cb37-12" aria-hidden="true" tabindex="-1"></a>    <span class="sc">-</span>id,</span>
<span id="cb37-13"><a href="data-processing.html#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="fu">c</span>(</span>
<span id="cb37-14"><a href="data-processing.html#cb37-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;measure&quot;</span>,</span>
<span id="cb37-15"><a href="data-processing.html#cb37-15" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;total&quot;</span>,</span>
<span id="cb37-16"><a href="data-processing.html#cb37-16" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;time_frame&quot;</span></span>
<span id="cb37-17"><a href="data-processing.html#cb37-17" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-18"><a href="data-processing.html#cb37-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span></span>
<span id="cb37-19"><a href="data-processing.html#cb37-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-20"><a href="data-processing.html#cb37-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>total) <span class="sc">%&gt;%</span> <span class="co"># redundant</span></span>
<span id="cb37-21"><a href="data-processing.html#cb37-21" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-22"><a href="data-processing.html#cb37-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_wider</span>( <span class="co"># spread hours and minutes</span></span>
<span id="cb37-23"><a href="data-processing.html#cb37-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_from =</span> <span class="st">&quot;measure&quot;</span>,</span>
<span id="cb37-24"><a href="data-processing.html#cb37-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_from =</span> <span class="st">&quot;value&quot;</span></span>
<span id="cb37-25"><a href="data-processing.html#cb37-25" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb37-26"><a href="data-processing.html#cb37-26" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-27"><a href="data-processing.html#cb37-27" aria-hidden="true" tabindex="-1"></a>  <span class="co"># same as above: if one of the two measures (hours or minutes) has an entry and the other is NA, we set that NA to 0</span></span>
<span id="cb37-28"><a href="data-processing.html#cb37-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb37-29"><a href="data-processing.html#cb37-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">hours =</span> <span class="fu">case_when</span>(</span>
<span id="cb37-30"><a href="data-processing.html#cb37-30" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb37-31"><a href="data-processing.html#cb37-31" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="sc">!</span><span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb37-32"><a href="data-processing.html#cb37-32" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> hours</span>
<span id="cb37-33"><a href="data-processing.html#cb37-33" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-34"><a href="data-processing.html#cb37-34" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb37-35"><a href="data-processing.html#cb37-35" aria-hidden="true" tabindex="-1"></a>  <span class="co"># when someone only filled in hours, but not minutes, turn minutes to 0</span></span>
<span id="cb37-36"><a href="data-processing.html#cb37-36" aria-hidden="true" tabindex="-1"></a>    <span class="at">minutes =</span> <span class="fu">case_when</span>(</span>
<span id="cb37-37"><a href="data-processing.html#cb37-37" aria-hidden="true" tabindex="-1"></a>      <span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="cn">NA_real_</span>,</span>
<span id="cb37-38"><a href="data-processing.html#cb37-38" aria-hidden="true" tabindex="-1"></a>      <span class="sc">!</span><span class="fu">is.na</span>(hours) <span class="sc">&amp;</span> <span class="fu">is.na</span>(minutes) <span class="sc">~</span> <span class="dv">0</span>,</span>
<span id="cb37-39"><a href="data-processing.html#cb37-39" aria-hidden="true" tabindex="-1"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> minutes</span>
<span id="cb37-40"><a href="data-processing.html#cb37-40" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb37-41"><a href="data-processing.html#cb37-41" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb37-42"><a href="data-processing.html#cb37-42" aria-hidden="true" tabindex="-1"></a>   <span class="co"># total time</span></span>
<span id="cb37-43"><a href="data-processing.html#cb37-43" aria-hidden="true" tabindex="-1"></a>    <span class="at">social_media_objective =</span> hours <span class="sc">*</span> <span class="dv">60</span> <span class="sc">+</span> minutes</span>
<span id="cb37-44"><a href="data-processing.html#cb37-44" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>The <code>totals_long</code> is the data set of interest because it has total screen time per day, which we can match with the diary data.
Thus, to arrive at the final sample size, we’ll only keep participants who have data in the <code>diary</code> data set.
For merging, we’ll need to exclude those participants in <code>totals_long</code> who don’t have a match in <code>diary</code>.</p>
<p>But first, I check how much the sum of total time across apps per day in <code>total_long</code> converges with the sum of time across all apps per day in <code>apps_long</code>.
There will definitely be differences, simply because participants have more chances to make typos when reporting the individual apps per day (in <code>apps_long</code>) compared to reporting the overall time across all apps once per day (in <code>total_long</code>).
Also, participants will occasionally skip an individual app per day rating.</p>
<p>Below, I get the total time per day across all ten apps and then join that estimate with the data set containing the total times (<code>total_long</code>).
Afterwards, per day, I see how much the two variables differ.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="data-processing.html#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get total time across apps per day</span></span>
<span id="cb38-2"><a href="data-processing.html#cb38-2" aria-hidden="true" tabindex="-1"></a>apps_aggregated <span class="ot">&lt;-</span> </span>
<span id="cb38-3"><a href="data-processing.html#cb38-3" aria-hidden="true" tabindex="-1"></a>  apps_long <span class="sc">%&gt;%</span> </span>
<span id="cb38-4"><a href="data-processing.html#cb38-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, time_frame) <span class="sc">%&gt;%</span> </span>
<span id="cb38-5"><a href="data-processing.html#cb38-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_frame <span class="sc">!=</span> <span class="st">&quot;week&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># no week </span></span>
<span id="cb38-6"><a href="data-processing.html#cb38-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">total_time =</span> <span class="fu">sum</span>(social_media_objective, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb38-7"><a href="data-processing.html#cb38-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-8"><a href="data-processing.html#cb38-8" aria-hidden="true" tabindex="-1"></a><span class="co"># join with total times</span></span>
<span id="cb38-9"><a href="data-processing.html#cb38-9" aria-hidden="true" tabindex="-1"></a>compare <span class="ot">&lt;-</span> </span>
<span id="cb38-10"><a href="data-processing.html#cb38-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb38-11"><a href="data-processing.html#cb38-11" aria-hidden="true" tabindex="-1"></a>    totals_long <span class="sc">%&gt;%</span> </span>
<span id="cb38-12"><a href="data-processing.html#cb38-12" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(time_frame <span class="sc">!=</span> <span class="st">&quot;week&quot;</span>),</span>
<span id="cb38-13"><a href="data-processing.html#cb38-13" aria-hidden="true" tabindex="-1"></a>    apps_aggregated</span>
<span id="cb38-14"><a href="data-processing.html#cb38-14" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb38-15"><a href="data-processing.html#cb38-15" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb38-16"><a href="data-processing.html#cb38-16" aria-hidden="true" tabindex="-1"></a>  <span class="co"># and compute a deviance score</span></span>
<span id="cb38-17"><a href="data-processing.html#cb38-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb38-18"><a href="data-processing.html#cb38-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">difference =</span> social_media_objective <span class="sc">-</span> total_time</span>
<span id="cb38-19"><a href="data-processing.html#cb38-19" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Overall, the two sums of use across apps and days are highly similar, with a mean difference of <em>M</em> = 4.09, <em>SD</em> = 17.4 and an extremely high correlation, <em>r</em> = 0.98.</p>
<p>There were some missing values in the total social media time per day that participants reported.
I check who has missing data on any of the weekdays in the <code>totals_long</code> data set.
We can check whether those participants have reported individual app use for that day and use an aggregate over apps on that day as a substitute, given their high correlation.
In other words: When participants forgot to report their overall social media use for a day, but reported use for all social media apps they used on that day, we can just use the sum of those social media apps as a replacement for overall social media use.
However, we see in <a href="data-processing.html#tab:check-social-media-na">2.10</a> that all participants reported social media screen time across all days, so no need for imputation.</p>
<table>
<caption><span id="tab:check-social-media-na">Table 2.10: </span>Amount of missing values in data comparing total screen time</caption>
<thead>
<tr class="header">
<th align="right">id</th>
<th align="right">time_frame</th>
<th align="right">hours</th>
<th align="right">minutes</th>
<th align="right">social_media_objective</th>
<th align="right">total_time</th>
<th align="right">difference</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
<td align="right">0</td>
</tr>
</tbody>
</table>
<p>Before I merge all data sets, I need to add the objective notifications and pickups (currently in <code>apps_long</code>) to the <code>totals_long</code> data set.
Note that at the time of the study, iOS screen time wouldn’t report notifications for app per day, only for the past week.
Therefore, the weekly notifications have the same caveat as the weekly screen time: they will include a couple of notifications that participants received on the day they retrospectively reported their objective use.
For pickups, as with screen time, we can sum up all days to get an accurate measure of week’s pickups.</p>
<p>I’ll sum up both pickups and notifications over participant.
Pickups will be per day, but notifications only per week.
I then add pickups to the <code>totals_long</code> data set.
Notifications I’ll add later during merging (because they are not aggregated per day).</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="data-processing.html#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get total pickups across apps per day</span></span>
<span id="cb39-2"><a href="data-processing.html#cb39-2" aria-hidden="true" tabindex="-1"></a>pickups_aggregated <span class="ot">&lt;-</span> </span>
<span id="cb39-3"><a href="data-processing.html#cb39-3" aria-hidden="true" tabindex="-1"></a>  apps_long <span class="sc">%&gt;%</span> </span>
<span id="cb39-4"><a href="data-processing.html#cb39-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id, time_frame) <span class="sc">%&gt;%</span> </span>
<span id="cb39-5"><a href="data-processing.html#cb39-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_frame <span class="sc">!=</span> <span class="st">&quot;week&quot;</span>) <span class="sc">%&gt;%</span> <span class="co"># no week </span></span>
<span id="cb39-6"><a href="data-processing.html#cb39-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(pickups)) <span class="sc">%&gt;%</span> <span class="co"># exclude missing values (if I do na.rm = T in sum below it will result in zeros to sum NAs)</span></span>
<span id="cb39-7"><a href="data-processing.html#cb39-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">pickups_objective =</span> <span class="fu">sum</span>(pickups))</span>
<span id="cb39-8"><a href="data-processing.html#cb39-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-9"><a href="data-processing.html#cb39-9" aria-hidden="true" tabindex="-1"></a><span class="co"># get notifications across apps per participant</span></span>
<span id="cb39-10"><a href="data-processing.html#cb39-10" aria-hidden="true" tabindex="-1"></a>notifications_aggregated <span class="ot">&lt;-</span> </span>
<span id="cb39-11"><a href="data-processing.html#cb39-11" aria-hidden="true" tabindex="-1"></a>  apps_long <span class="sc">%&gt;%</span> </span>
<span id="cb39-12"><a href="data-processing.html#cb39-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb39-13"><a href="data-processing.html#cb39-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">weekly_notifications =</span> <span class="fu">sum</span>(notifications, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb39-14"><a href="data-processing.html#cb39-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-15"><a href="data-processing.html#cb39-15" aria-hidden="true" tabindex="-1"></a><span class="co"># add pickups to totals_long</span></span>
<span id="cb39-16"><a href="data-processing.html#cb39-16" aria-hidden="true" tabindex="-1"></a>totals_long <span class="ot">&lt;-</span> </span>
<span id="cb39-17"><a href="data-processing.html#cb39-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb39-18"><a href="data-processing.html#cb39-18" aria-hidden="true" tabindex="-1"></a>    totals_long,</span>
<span id="cb39-19"><a href="data-processing.html#cb39-19" aria-hidden="true" tabindex="-1"></a>    pickups_aggregated,</span>
<span id="cb39-20"><a href="data-processing.html#cb39-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;time_frame&quot;</span>)</span>
<span id="cb39-21"><a href="data-processing.html#cb39-21" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
</div>
<div id="merge-data-sets" class="section level2" number="2.4">
<h2><span class="header-section-number">2.4</span> Merge data sets</h2>
<p>Finally, we can merge the three data sets.
Before I do any merging, I’ll check out the number of data points per data set and the ones they have in common before I count exclusions.
This is mostly for reporting in the paper.</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="data-processing.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of participants who took initial survey (take out empty rows)</span></span>
<span id="cb40-2"><a href="data-processing.html#cb40-2" aria-hidden="true" tabindex="-1"></a>personality <span class="sc">%&gt;%</span> </span>
<span id="cb40-3"><a href="data-processing.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> personality_exclusions_1) <span class="sc">%&gt;%</span> </span>
<span id="cb40-4"><a href="data-processing.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="ot">-&gt;</span> personality_n</span>
<span id="cb40-5"><a href="data-processing.html#cb40-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-6"><a href="data-processing.html#cb40-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(personality_n)</span></code></pre></div>
<pre><code>## [1] 292</code></pre>
<div class="sourceCode" id="cb42"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb42-1"><a href="data-processing.html#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of those who also participated in diary part</span></span>
<span id="cb42-2"><a href="data-processing.html#cb42-2" aria-hidden="true" tabindex="-1"></a>diary <span class="sc">%&gt;%</span> </span>
<span id="cb42-3"><a href="data-processing.html#cb42-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(., diary_exclusions_1) <span class="ot">-&gt;</span> diary_n</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;id&quot;, &quot;day&quot;)</code></pre>
<div class="sourceCode" id="cb44"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb44-1"><a href="data-processing.html#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(<span class="fu">unique</span>(diary_n<span class="sc">$</span>id))</span></code></pre></div>
<pre><code>## [1] 275</code></pre>
<div class="sourceCode" id="cb46"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb46-1"><a href="data-processing.html#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># number of those who came back to report screen time</span></span>
<span id="cb46-2"><a href="data-processing.html#cb46-2" aria-hidden="true" tabindex="-1"></a>screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb46-3"><a href="data-processing.html#cb46-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> screen_time_exclusions_1) <span class="sc">%&gt;%</span> </span>
<span id="cb46-4"><a href="data-processing.html#cb46-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pull</span>(id) <span class="ot">-&gt;</span> screen_time_n</span>
<span id="cb46-5"><a href="data-processing.html#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="data-processing.html#cb46-6" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(screen_time_n)  </span></code></pre></div>
<pre><code>## [1] 97</code></pre>
<p>The <code>diary</code> data set is the “base” because it has our variables of interest and the correct time structure.
To that data set we add the objective social media measures from the <code>totals_long</code> data set.
The identifier for a survey are the participant <code>id</code> and the <code>day</code> on which they filled out a survey/for which they reported objective use.
Note that we omit the meta-data from <code>totals_long</code> (e.g., <code>start_date</code>) because they are different from the meta-data of <code>diary</code>.
We also only keep the variables of interest from here on, meaning I’ll exclude some variables that aren’t informative.</p>
<div class="sourceCode" id="cb48"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb48-1"><a href="data-processing.html#cb48-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb48-2"><a href="data-processing.html#cb48-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb48-3"><a href="data-processing.html#cb48-3" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb48-4"><a href="data-processing.html#cb48-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the diary data with only relevant variables</span></span>
<span id="cb48-5"><a href="data-processing.html#cb48-5" aria-hidden="true" tabindex="-1"></a>    diary <span class="sc">%&gt;%</span> </span>
<span id="cb48-6"><a href="data-processing.html#cb48-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb48-7"><a href="data-processing.html#cb48-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">duration_diary =</span> duration, <span class="co"># so that we can get filling out times for each data set</span></span>
<span id="cb48-8"><a href="data-processing.html#cb48-8" aria-hidden="true" tabindex="-1"></a>        id<span class="sc">:</span>day,</span>
<span id="cb48-9"><a href="data-processing.html#cb48-9" aria-hidden="true" tabindex="-1"></a>        pickups_subjective<span class="sc">:</span>enjoyable, <span class="co"># don&#39;t need individual minutes and hours anymore</span></span>
<span id="cb48-10"><a href="data-processing.html#cb48-10" aria-hidden="true" tabindex="-1"></a>        social_media_subjective<span class="sc">:</span>relatedness_state</span>
<span id="cb48-11"><a href="data-processing.html#cb48-11" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb48-12"><a href="data-processing.html#cb48-12" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb48-13"><a href="data-processing.html#cb48-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the objective totals with only relevant variables</span></span>
<span id="cb48-14"><a href="data-processing.html#cb48-14" aria-hidden="true" tabindex="-1"></a>    totals_long <span class="sc">%&gt;%</span> </span>
<span id="cb48-15"><a href="data-processing.html#cb48-15" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(time_frame <span class="sc">!=</span> <span class="st">&quot;week&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb48-16"><a href="data-processing.html#cb48-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(</span>
<span id="cb48-17"><a href="data-processing.html#cb48-17" aria-hidden="true" tabindex="-1"></a>        <span class="at">day =</span> time_frame</span>
<span id="cb48-18"><a href="data-processing.html#cb48-18" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">%&gt;%</span> </span>
<span id="cb48-19"><a href="data-processing.html#cb48-19" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(id, day, social_media_objective, pickups_objective),</span>
<span id="cb48-20"><a href="data-processing.html#cb48-20" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb48-21"><a href="data-processing.html#cb48-21" aria-hidden="true" tabindex="-1"></a>    <span class="co"># joining by the two identifiers</span></span>
<span id="cb48-22"><a href="data-processing.html#cb48-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;day&quot;</span>)</span>
<span id="cb48-23"><a href="data-processing.html#cb48-23" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>The merging above kept all cases of <code>diary</code> and added variables from <code>totals_long</code> when there was a match, otherwise setting the new variables to <code>NA</code>.
Therefore, I remove all cases which have <code>NA</code> on the added variables to get to our final sample.
(There were no missings in the <code>social_media_objective</code> variable.)
In other words, this removes those participants who didn’t fill out the screen time survey.</p>
<div class="sourceCode" id="cb49"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb49-1"><a href="data-processing.html#cb49-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb49-2"><a href="data-processing.html#cb49-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb49-3"><a href="data-processing.html#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(social_media_objective))</span></code></pre></div>
<p>For descriptive information, I’ll also add the survey duration of the screen time data.</p>
<div class="sourceCode" id="cb50"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb50-1"><a href="data-processing.html#cb50-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb50-2"><a href="data-processing.html#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb50-3"><a href="data-processing.html#cb50-3" aria-hidden="true" tabindex="-1"></a>    dat,</span>
<span id="cb50-4"><a href="data-processing.html#cb50-4" aria-hidden="true" tabindex="-1"></a>    screen_time <span class="sc">%&gt;%</span> </span>
<span id="cb50-5"><a href="data-processing.html#cb50-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(id, duration) <span class="sc">%&gt;%</span> </span>
<span id="cb50-6"><a href="data-processing.html#cb50-6" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(</span>
<span id="cb50-7"><a href="data-processing.html#cb50-7" aria-hidden="true" tabindex="-1"></a>        <span class="at">duration_screen_time =</span> duration</span>
<span id="cb50-8"><a href="data-processing.html#cb50-8" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb50-9"><a href="data-processing.html#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;id&quot;</span></span>
<span id="cb50-10"><a href="data-processing.html#cb50-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Okay, then I add the personality variables.
Again, <code>dat</code> is the “master” and we add personality variables (aka traits from <code>personality</code>), omitting variables that aren’t of interest.</p>
<div class="sourceCode" id="cb51"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb51-1"><a href="data-processing.html#cb51-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb51-2"><a href="data-processing.html#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb51-3"><a href="data-processing.html#cb51-3" aria-hidden="true" tabindex="-1"></a>    dat,</span>
<span id="cb51-4"><a href="data-processing.html#cb51-4" aria-hidden="true" tabindex="-1"></a>    personality <span class="sc">%&gt;%</span> </span>
<span id="cb51-5"><a href="data-processing.html#cb51-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(</span>
<span id="cb51-6"><a href="data-processing.html#cb51-6" aria-hidden="true" tabindex="-1"></a>        <span class="at">duration_personality =</span> duration,</span>
<span id="cb51-7"><a href="data-processing.html#cb51-7" aria-hidden="true" tabindex="-1"></a>        id,</span>
<span id="cb51-8"><a href="data-processing.html#cb51-8" aria-hidden="true" tabindex="-1"></a>        bpns_1<span class="sc">:</span>openness</span>
<span id="cb51-9"><a href="data-processing.html#cb51-9" aria-hidden="true" tabindex="-1"></a>      ),</span>
<span id="cb51-10"><a href="data-processing.html#cb51-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;id&quot;</span></span>
<span id="cb51-11"><a href="data-processing.html#cb51-11" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Then, I add the notifications over one week as a constant.</p>
<div class="sourceCode" id="cb52"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb52-1"><a href="data-processing.html#cb52-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb52-2"><a href="data-processing.html#cb52-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb52-3"><a href="data-processing.html#cb52-3" aria-hidden="true" tabindex="-1"></a>    dat,</span>
<span id="cb52-4"><a href="data-processing.html#cb52-4" aria-hidden="true" tabindex="-1"></a>    notifications_aggregated,</span>
<span id="cb52-5"><a href="data-processing.html#cb52-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="st">&quot;id&quot;</span></span>
<span id="cb52-6"><a href="data-processing.html#cb52-6" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Alright, only keeping those who had screen time measures already removed a large number of cases, some of them were part of the exclusions for both the <code>personality</code> and the <code>diary</code> parts.
I now apply all exclusions (if necessary) to get to the final data set.
Note that I don’t exclude those in <code>diary_exclusions_2</code> after all: Those are the ones who didn’t fill in an experience sampling survey, but all of them still have personality scores and the retrospective screen time estimates.</p>
<div class="sourceCode" id="cb53"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb53-1"><a href="data-processing.html#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="do">## personality</span></span>
<span id="cb53-2"><a href="data-processing.html#cb53-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-3"><a href="data-processing.html#cb53-3" aria-hidden="true" tabindex="-1"></a><span class="co"># nobody left who didn&#39;t fill in the personality survey</span></span>
<span id="cb53-4"><a href="data-processing.html#cb53-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat<span class="sc">$</span>id <span class="sc">%in%</span> personality_exclusions_1)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb55"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb55-1"><a href="data-processing.html#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># and nobody with empty rows</span></span>
<span id="cb55-2"><a href="data-processing.html#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat<span class="sc">$</span>id <span class="sc">%in%</span> personality_exclusions_2)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb57"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb57-1"><a href="data-processing.html#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="co"># the people who failed attention checks either didn&#39;t fill out the diary or the screen time part</span></span>
<span id="cb57-2"><a href="data-processing.html#cb57-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat<span class="sc">$</span>id <span class="sc">%in%</span> personality_exclusions_3)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb59"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb59-1"><a href="data-processing.html#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co"># same goes for personality straightliners</span></span>
<span id="cb59-2"><a href="data-processing.html#cb59-2" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat<span class="sc">$</span>id <span class="sc">%in%</span> personality_exclusions_4)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb61"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb61-1"><a href="data-processing.html#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="do">## diary</span></span>
<span id="cb61-2"><a href="data-processing.html#cb61-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-3"><a href="data-processing.html#cb61-3" aria-hidden="true" tabindex="-1"></a><span class="co"># some people with empty diary entries left, nobody left who didn&#39;t participate in the diary (no wonder, we used diary as the base for merging)</span></span>
<span id="cb61-4"><a href="data-processing.html#cb61-4" aria-hidden="true" tabindex="-1"></a><span class="co"># those people will have empty diary entries, but still data for screen time, so no need to exclude them here, they&#39;ll be dropped from analysis automatically because of NA</span></span>
<span id="cb61-5"><a href="data-processing.html#cb61-5" aria-hidden="true" tabindex="-1"></a><span class="fu">inner_join</span>(diary_exclusions_1, dat <span class="sc">%&gt;%</span> <span class="fu">select</span>(id, day)) <span class="sc">%&gt;%</span> <span class="fu">nrow</span>()</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;id&quot;, &quot;day&quot;)</code></pre>
<pre><code>## [1] 33</code></pre>
<div class="sourceCode" id="cb64"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb64-1"><a href="data-processing.html#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="co"># don&#39;t exclude anyone who missed a diary entry</span></span>
<span id="cb64-2"><a href="data-processing.html#cb64-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb64-3"><a href="data-processing.html#cb64-3" aria-hidden="true" tabindex="-1"></a><span class="co"># diary straightliners: need to exclude one person</span></span>
<span id="cb64-4"><a href="data-processing.html#cb64-4" aria-hidden="true" tabindex="-1"></a>dat<span class="sc">$</span>id[dat<span class="sc">$</span>id <span class="sc">%in%</span> diary_exclusions_3]</span></code></pre></div>
<pre><code>## [1] pp_169 pp_169 pp_169 pp_169 pp_169
## 303 Levels: pp_1 pp_10 pp_100 pp_101 pp_102 pp_103 pp_104 pp_105 pp_106 pp_107 pp_108 pp_109 pp_11 pp_110 pp_111 ... pp_NA</code></pre>
<div class="sourceCode" id="cb66"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb66-1"><a href="data-processing.html#cb66-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb66-2"><a href="data-processing.html#cb66-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href="data-processing.html#cb66-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span>id <span class="sc">%in%</span> diary_exclusions_3)</span>
<span id="cb66-4"><a href="data-processing.html#cb66-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-5"><a href="data-processing.html#cb66-5" aria-hidden="true" tabindex="-1"></a><span class="co"># last, exclude one diary entry that was provided too late (see details above)</span></span>
<span id="cb66-6"><a href="data-processing.html#cb66-6" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb66-7"><a href="data-processing.html#cb66-7" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb66-8"><a href="data-processing.html#cb66-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">anti_join</span>(., diary_exclusions_4)</span></code></pre></div>
<pre><code>## Joining, by = c(&quot;id&quot;, &quot;day&quot;)</code></pre>
<div class="sourceCode" id="cb68"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb68-1"><a href="data-processing.html#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="do">## screen time exclusions</span></span>
<span id="cb68-2"><a href="data-processing.html#cb68-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-3"><a href="data-processing.html#cb68-3" aria-hidden="true" tabindex="-1"></a><span class="co"># those with empty rows will have been excluded as we merged diary with totals_long (totals long excluded those who had all NA)</span></span>
<span id="cb68-4"><a href="data-processing.html#cb68-4" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(dat<span class="sc">$</span>id <span class="sc">%in%</span> screen_time_exclusions_1)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>Good, then we have our final data set.
Because screen time was filled in retrospectively in the third session, those who didn’t fill in an experience sample will have <code>NA</code>s on the self-reports, but still a row with data because screen time for that day is there.
So each person has five rows, except for that one participant who filled in one of the surveys too late.</p>
<p>Next, I create an accuracy score for the comparison of objective and subjective phone use indicators.
The objective measure is our “true” estimate.
We want to know how far off participants were, relative to that true value, in their estimate.
For that, we calculate the percentage error by subtracting the objective value from the subjective value (to get difference) and dividing by the objective value (to get error percent).
Afterwards, we multiply by 100 to get a percentage.
Say I estimated 110 subjective minutes, but the true value (i.e., the objective minutes) is 100. Then the error is 10%, an overestimate.
If I estimated 100 subjective minutes, but the true value is 110, the error is ~9%, an underestimate.</p>
<p>In my opinion, that is more intuitive than a difference score.
It’s easier to understand the magnitude of an error in percent (say 80%) than raw units (say 10 minutes).
However, percent error brings one complication with it: If participants estimated 0 social media use, percent error becomes meaningless.
0 - objective / objective will always lead -100%.
There’s 11 cases with an estimate of zero, but actual, objective use.
It’s impossible in this case to determine an error percentage, simply because 0 is meaningless in the formula.
I could use a difference score instead, but that’ll make the interpretation less intuitive.
Those zeros might’ve also been typos, given how rare zeros are in the sample.
I could set those error instances to missing, but in the analysis, we want to be able to compare coefficient predicting both social media and error.
Therefore, I’ll set all three variables to <code>NA</code>.</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="data-processing.html#cb70-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb70-2"><a href="data-processing.html#cb70-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb70-3"><a href="data-processing.html#cb70-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb70-4"><a href="data-processing.html#cb70-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># error social media time</span></span>
<span id="cb70-5"><a href="data-processing.html#cb70-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> (social_media_subjective <span class="sc">-</span> social_media_objective) <span class="sc">/</span> social_media_objective <span class="sc">*</span> <span class="dv">100</span>,</span>
<span id="cb70-6"><a href="data-processing.html#cb70-6" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb70-7"><a href="data-processing.html#cb70-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">c</span>(social_media_subjective, social_media_objective, error),</span>
<span id="cb70-8"><a href="data-processing.html#cb70-8" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">if_else</span>(error <span class="sc">==</span> <span class="sc">-</span><span class="dv">100</span>, <span class="cn">NA_real_</span>, .x)</span>
<span id="cb70-9"><a href="data-processing.html#cb70-9" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb70-10"><a href="data-processing.html#cb70-10" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
Let’s inspect the distribution in Figure <a href="data-processing.html#fig:error-distribution-dat">2.4</a>.
We see that a couple of participants have massive overestimation errors.
<div class="figure"><span id="fig:error-distribution-dat"></span>
<img src="analysis_report_files/figure-html/error-distribution-dat-1.png" alt="Distribution of percent error for screen time" width="672" />
<p class="caption">
Figure 2.4: Distribution of percent error for screen time
</p>
</div>
<p>I checked their raw data: One participant indicated exactly five hours, but probably meant five minutes (i.e., the participant with an error of 1.49^{4}.
Similarly, the second largest entry seems to be a typo (i.e., 58 minutes).
I’ll set those all entries that are larger than 1500% to <code>NA</code>.
Also, one participant had zero objective time and zero subjective time.
Dividing by zero to get error above leads to <code>NaN</code>, so I’ll set that <code>NA</code>.</p>
<div class="sourceCode" id="cb71"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb71-1"><a href="data-processing.html#cb71-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb71-2"><a href="data-processing.html#cb71-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb71-3"><a href="data-processing.html#cb71-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb71-4"><a href="data-processing.html#cb71-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="fu">if_else</span>(error <span class="sc">&gt;</span> <span class="dv">1500</span>, <span class="cn">NA_real_</span>, error),</span>
<span id="cb71-5"><a href="data-processing.html#cb71-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">error =</span> <span class="fu">if_else</span>(</span>
<span id="cb71-6"><a href="data-processing.html#cb71-6" aria-hidden="true" tabindex="-1"></a>      social_media_subjective <span class="sc">==</span> <span class="dv">0</span> <span class="sc">&amp;</span> social_media_objective <span class="sc">==</span> <span class="dv">0</span>, <span class="cn">NA_real_</span>, error</span>
<span id="cb71-7"><a href="data-processing.html#cb71-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb71-8"><a href="data-processing.html#cb71-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Last, some housekeeping, reordering variables and making sure they all have the correct variable type, plus reordering the <code>day</code> factor.</p>
<div class="sourceCode" id="cb72"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb72-1"><a href="data-processing.html#cb72-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb72-2"><a href="data-processing.html#cb72-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb72-3"><a href="data-processing.html#cb72-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb72-4"><a href="data-processing.html#cb72-4" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb72-5"><a href="data-processing.html#cb72-5" aria-hidden="true" tabindex="-1"></a>    age<span class="sc">:</span>ethnicity,</span>
<span id="cb72-6"><a href="data-processing.html#cb72-6" aria-hidden="true" tabindex="-1"></a>    gender,</span>
<span id="cb72-7"><a href="data-processing.html#cb72-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">starts_with</span>(<span class="st">&quot;duration&quot;</span>),</span>
<span id="cb72-8"><a href="data-processing.html#cb72-8" aria-hidden="true" tabindex="-1"></a>    day,</span>
<span id="cb72-9"><a href="data-processing.html#cb72-9" aria-hidden="true" tabindex="-1"></a>    social_media_subjective,</span>
<span id="cb72-10"><a href="data-processing.html#cb72-10" aria-hidden="true" tabindex="-1"></a>    pickups_subjective,</span>
<span id="cb72-11"><a href="data-processing.html#cb72-11" aria-hidden="true" tabindex="-1"></a>    notifications_subjective,</span>
<span id="cb72-12"><a href="data-processing.html#cb72-12" aria-hidden="true" tabindex="-1"></a>    social_media_objective,</span>
<span id="cb72-13"><a href="data-processing.html#cb72-13" aria-hidden="true" tabindex="-1"></a>    error,</span>
<span id="cb72-14"><a href="data-processing.html#cb72-14" aria-hidden="true" tabindex="-1"></a>    pickups_objective,</span>
<span id="cb72-15"><a href="data-processing.html#cb72-15" aria-hidden="true" tabindex="-1"></a>    weekly_notifications,</span>
<span id="cb72-16"><a href="data-processing.html#cb72-16" aria-hidden="true" tabindex="-1"></a>    well_being_state<span class="sc">:</span>relatedness_state,</span>
<span id="cb72-17"><a href="data-processing.html#cb72-17" aria-hidden="true" tabindex="-1"></a>    low_positive_peaceful<span class="sc">:</span>enjoyable,</span>
<span id="cb72-18"><a href="data-processing.html#cb72-18" aria-hidden="true" tabindex="-1"></a>    autonomy_trait<span class="sc">:</span>openness,</span>
<span id="cb72-19"><a href="data-processing.html#cb72-19" aria-hidden="true" tabindex="-1"></a>    bpns_1<span class="sc">:</span>big_five_45</span>
<span id="cb72-20"><a href="data-processing.html#cb72-20" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb72-21"><a href="data-processing.html#cb72-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb72-22"><a href="data-processing.html#cb72-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">droplevels</span>(id),</span>
<span id="cb72-23"><a href="data-processing.html#cb72-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> <span class="fu">as.factor</span>(day),</span>
<span id="cb72-24"><a href="data-processing.html#cb72-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">day =</span> <span class="fu">fct_relevel</span>(</span>
<span id="cb72-25"><a href="data-processing.html#cb72-25" aria-hidden="true" tabindex="-1"></a>      day,</span>
<span id="cb72-26"><a href="data-processing.html#cb72-26" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;monday&quot;</span>,</span>
<span id="cb72-27"><a href="data-processing.html#cb72-27" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;tuesday&quot;</span>,</span>
<span id="cb72-28"><a href="data-processing.html#cb72-28" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;wednesday&quot;</span>,</span>
<span id="cb72-29"><a href="data-processing.html#cb72-29" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;thursday&quot;</span>,</span>
<span id="cb72-30"><a href="data-processing.html#cb72-30" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;friday&quot;</span></span>
<span id="cb72-31"><a href="data-processing.html#cb72-31" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb72-32"><a href="data-processing.html#cb72-32" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>When plotting the app data I want them to reflect the final sample, which is why I only keep those participants and surveys in the <code>apps_long</code> data set that are also in the final data set (i.e., <code>dat</code>).
I can’t just exclude those participants in <code>apps_long</code> because I also excluded surveys in <code>diary</code> on which <code>dat</code> is based.
Therefore, I only keep those entries in <code>apps_long</code> which have a corresponding row in <code>dat</code> (aka entries in both <code>id</code> and <code>day</code>).
Also, I’ll remove “week” as a time frame and add the notifications for that app over whole week as a constant per app.</p>
<div class="sourceCode" id="cb73"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb73-1"><a href="data-processing.html#cb73-1" aria-hidden="true" tabindex="-1"></a>apps_week <span class="ot">&lt;-</span> </span>
<span id="cb73-2"><a href="data-processing.html#cb73-2" aria-hidden="true" tabindex="-1"></a>  apps_long <span class="sc">%&gt;%</span> </span>
<span id="cb73-3"><a href="data-processing.html#cb73-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(</span>
<span id="cb73-4"><a href="data-processing.html#cb73-4" aria-hidden="true" tabindex="-1"></a>    id,</span>
<span id="cb73-5"><a href="data-processing.html#cb73-5" aria-hidden="true" tabindex="-1"></a>    time_frame,</span>
<span id="cb73-6"><a href="data-processing.html#cb73-6" aria-hidden="true" tabindex="-1"></a>    app,</span>
<span id="cb73-7"><a href="data-processing.html#cb73-7" aria-hidden="true" tabindex="-1"></a>    rank,</span>
<span id="cb73-8"><a href="data-processing.html#cb73-8" aria-hidden="true" tabindex="-1"></a>    notifications</span>
<span id="cb73-9"><a href="data-processing.html#cb73-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-10"><a href="data-processing.html#cb73-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(time_frame <span class="sc">==</span> <span class="st">&quot;week&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-11"><a href="data-processing.html#cb73-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>time_frame)</span>
<span id="cb73-12"><a href="data-processing.html#cb73-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb73-13"><a href="data-processing.html#cb73-13" aria-hidden="true" tabindex="-1"></a>apps_long <span class="ot">&lt;-</span> </span>
<span id="cb73-14"><a href="data-processing.html#cb73-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb73-15"><a href="data-processing.html#cb73-15" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-16"><a href="data-processing.html#cb73-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># only those participants and days that are in final data set</span></span>
<span id="cb73-17"><a href="data-processing.html#cb73-17" aria-hidden="true" tabindex="-1"></a>    dat <span class="sc">%&gt;%</span> </span>
<span id="cb73-18"><a href="data-processing.html#cb73-18" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(id, day),</span>
<span id="cb73-19"><a href="data-processing.html#cb73-19" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-20"><a href="data-processing.html#cb73-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># and the rest of the variables from apps_long, but without week</span></span>
<span id="cb73-21"><a href="data-processing.html#cb73-21" aria-hidden="true" tabindex="-1"></a>    apps_long <span class="sc">%&gt;%</span> </span>
<span id="cb73-22"><a href="data-processing.html#cb73-22" aria-hidden="true" tabindex="-1"></a>      <span class="fu">rename</span>(<span class="at">day =</span> time_frame) <span class="sc">%&gt;%</span> </span>
<span id="cb73-23"><a href="data-processing.html#cb73-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">filter</span>(day <span class="sc">!=</span> <span class="st">&quot;week&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb73-24"><a href="data-processing.html#cb73-24" aria-hidden="true" tabindex="-1"></a>      <span class="fu">select</span>(<span class="sc">-</span>notifications),</span>
<span id="cb73-25"><a href="data-processing.html#cb73-25" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb73-26"><a href="data-processing.html#cb73-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;day&quot;</span>)</span>
<span id="cb73-27"><a href="data-processing.html#cb73-27" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-28"><a href="data-processing.html#cb73-28" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb73-29"><a href="data-processing.html#cb73-29" aria-hidden="true" tabindex="-1"></a>  <span class="co"># add the notifications for that app per week as a constant</span></span>
<span id="cb73-30"><a href="data-processing.html#cb73-30" aria-hidden="true" tabindex="-1"></a>  <span class="fu">left_join</span>(</span>
<span id="cb73-31"><a href="data-processing.html#cb73-31" aria-hidden="true" tabindex="-1"></a>    .,</span>
<span id="cb73-32"><a href="data-processing.html#cb73-32" aria-hidden="true" tabindex="-1"></a>    apps_week,</span>
<span id="cb73-33"><a href="data-processing.html#cb73-33" aria-hidden="true" tabindex="-1"></a>    <span class="at">by =</span> <span class="fu">c</span>(<span class="st">&quot;id&quot;</span>, <span class="st">&quot;app&quot;</span>, <span class="st">&quot;rank&quot;</span>)</span>
<span id="cb73-34"><a href="data-processing.html#cb73-34" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb73-35"><a href="data-processing.html#cb73-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(id, day, rank<span class="sc">:</span>notifications) <span class="sc">%&gt;%</span> </span>
<span id="cb73-36"><a href="data-processing.html#cb73-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">notifications_per_week =</span> notifications)</span></code></pre></div>
<p>Last, there are some <code>NaN</code>s in the data set after the transformations.
I’ll turn them into missings (i.e., <code>NA</code>).</p>
<div class="sourceCode" id="cb74"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb74-1"><a href="data-processing.html#cb74-1" aria-hidden="true" tabindex="-1"></a>dat <span class="ot">&lt;-</span> </span>
<span id="cb74-2"><a href="data-processing.html#cb74-2" aria-hidden="true" tabindex="-1"></a>  dat <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="data-processing.html#cb74-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb74-4"><a href="data-processing.html#cb74-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb74-5"><a href="data-processing.html#cb74-5" aria-hidden="true" tabindex="-1"></a>      <span class="fu">everything</span>(),</span>
<span id="cb74-6"><a href="data-processing.html#cb74-6" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">na_if</span>(.x, <span class="st">&quot;NaN&quot;</span>)</span>
<span id="cb74-7"><a href="data-processing.html#cb74-7" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb74-8"><a href="data-processing.html#cb74-8" aria-hidden="true" tabindex="-1"></a>  )</span></code></pre></div>
<p>Write the analysis file.</p>
<div class="sourceCode" id="cb75"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb75-1"><a href="data-processing.html#cb75-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write_rds</span>(dat, <span class="fu">here</span>(<span class="st">&quot;data&quot;</span>, <span class="st">&quot;processed_data.rds&quot;</span>))</span></code></pre></div>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="setting-up.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="descriptives-and-visualizations.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
