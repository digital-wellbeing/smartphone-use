<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>1 Setting up | Analysis Report</title>
  <meta name="description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="1 Setting up | Analysis Report" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://github.com/digital-wellbeing/smartphone-use" />
  
  <meta property="og:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  <meta name="github-repo" content="digital-wellbeing/smartphone-use" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="1 Setting up | Analysis Report" />
  
  <meta name="twitter:description" content="Analysis report detailing alls steps from data processing to final analyses." />
  

<meta name="author" content="Niklas Johannes" />


<meta name="date" content="2021-02-03" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="index.html"/>
<link rel="next" href="data-processing-study1.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Analysis Report</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>I Study 1</b></span></li>
<li class="chapter" data-level="1" data-path="setting-up-study1.html"><a href="setting-up-study1.html"><i class="fa fa-check"></i><b>1</b> Setting up</a></li>
<li class="chapter" data-level="2" data-path="data-processing-study1.html"><a href="data-processing-study1.html"><i class="fa fa-check"></i><b>2</b> Data processing Study 1</a>
<ul>
<li class="chapter" data-level="2.1" data-path="data-processing-study1.html"><a href="data-processing-study1.html#personality-data"><i class="fa fa-check"></i><b>2.1</b> Personality data</a></li>
<li class="chapter" data-level="2.2" data-path="data-processing-study1.html"><a href="data-processing-study1.html#diary-data"><i class="fa fa-check"></i><b>2.2</b> Diary data</a></li>
<li class="chapter" data-level="2.3" data-path="data-processing-study1.html"><a href="data-processing-study1.html#screen-time-data"><i class="fa fa-check"></i><b>2.3</b> Screen time data</a></li>
<li class="chapter" data-level="2.4" data-path="data-processing-study1.html"><a href="data-processing-study1.html#merge-data-sets"><i class="fa fa-check"></i><b>2.4</b> Merge data sets</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html"><i class="fa fa-check"></i><b>3</b> Descriptives and Visualizations Study 1</a>
<ul>
<li class="chapter" data-level="3.1" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#overview"><i class="fa fa-check"></i><b>3.1</b> Overview</a></li>
<li class="chapter" data-level="3.2" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#meta-level"><i class="fa fa-check"></i><b>3.2</b> Meta-level</a></li>
<li class="chapter" data-level="3.3" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#person-level"><i class="fa fa-check"></i><b>3.3</b> Person-level</a></li>
<li class="chapter" data-level="3.4" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#app-level"><i class="fa fa-check"></i><b>3.4</b> App-level</a></li>
<li class="chapter" data-level="3.5" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#day-level"><i class="fa fa-check"></i><b>3.5</b> Day level</a></li>
<li class="chapter" data-level="3.6" data-path="descriptives-and-visualizations-study-1.html"><a href="descriptives-and-visualizations-study-1.html#plots-for-paper"><i class="fa fa-check"></i><b>3.6</b> Plots for paper</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analysis-study-1.html"><a href="analysis-study-1.html"><i class="fa fa-check"></i><b>4</b> Analysis Study 1</a>
<ul>
<li class="chapter" data-level="4.1" data-path="analysis-study-1.html"><a href="analysis-study-1.html#research-questions"><i class="fa fa-check"></i><b>4.1</b> Research questions</a></li>
<li class="chapter" data-level="4.2" data-path="analysis-study-1.html"><a href="analysis-study-1.html#data-preparation"><i class="fa fa-check"></i><b>4.2</b> Data preparation</a></li>
<li class="chapter" data-level="4.3" data-path="analysis-study-1.html"><a href="analysis-study-1.html#do-trait-variables-predict-social-media-use-and-accuracy"><i class="fa fa-check"></i><b>4.3</b> Do trait variables predict social media use and accuracy?</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-1-trait-variables-predicting-objective-use"><i class="fa fa-check"></i><b>4.3.1</b> Model 1: Trait variables predicting objective use</a></li>
<li class="chapter" data-level="4.3.2" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-2-trait-variables-predicting-subjective-use"><i class="fa fa-check"></i><b>4.3.2</b> Model 2: Trait variables predicting subjective use</a></li>
<li class="chapter" data-level="4.3.3" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-3-trait-variables-predicting-accuracy"><i class="fa fa-check"></i><b>4.3.3</b> Model 3: Trait variables predicting accuracy</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="analysis-study-1.html"><a href="analysis-study-1.html#do-state-i.e.-day-level-variables-predict-social-media-use-and-accuracy"><i class="fa fa-check"></i><b>4.4</b> Do state (i.e., day-level) variables predict social media use and accuracy?</a>
<ul>
<li class="chapter" data-level="4.4.1" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-4-state-variables-predicting-objective-use"><i class="fa fa-check"></i><b>4.4.1</b> Model 4: State variables predicting objective use</a></li>
<li class="chapter" data-level="4.4.2" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-5-state-variables-predicting-subjective-use"><i class="fa fa-check"></i><b>4.4.2</b> Model 5: State variables predicting subjective use</a></li>
<li class="chapter" data-level="4.4.3" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-6-state-variables-predicting-accuracy"><i class="fa fa-check"></i><b>4.4.3</b> Model 6: State variables predicting accuracy</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="analysis-study-1.html"><a href="analysis-study-1.html#does-social-media-use-predict-well-being"><i class="fa fa-check"></i><b>4.5</b> Does social media use predict well-being?</a>
<ul>
<li class="chapter" data-level="4.5.1" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-7-objective-use-predicting-well-being"><i class="fa fa-check"></i><b>4.5.1</b> Model 7: Objective use predicting well-being</a></li>
<li class="chapter" data-level="4.5.2" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-8-subjective-use-predicting-well-being"><i class="fa fa-check"></i><b>4.5.2</b> Model 8: Subjective use predicting well-being</a></li>
<li class="chapter" data-level="4.5.3" data-path="analysis-study-1.html"><a href="analysis-study-1.html#model-9-accuracy-predicting-well-being"><i class="fa fa-check"></i><b>4.5.3</b> Model 9: Accuracy predicting well-being</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="synthesis-study-1.html"><a href="synthesis-study-1.html"><i class="fa fa-check"></i><b>5</b> Synthesis Study 1</a>
<ul>
<li class="chapter" data-level="5.1" data-path="synthesis-study-1.html"><a href="synthesis-study-1.html#personality-on-smartphone-use-trait"><i class="fa fa-check"></i><b>5.1</b> Personality on smartphone use (trait)</a></li>
<li class="chapter" data-level="5.2" data-path="synthesis-study-1.html"><a href="synthesis-study-1.html#experiences-on-smartphone-use-state"><i class="fa fa-check"></i><b>5.2</b> Experiences on smartphone use (state)</a></li>
<li class="chapter" data-level="5.3" data-path="synthesis-study-1.html"><a href="synthesis-study-1.html#smartphone-use-on-well-being-state"><i class="fa fa-check"></i><b>5.3</b> Smartphone use on well-being (state)</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Analysis Report</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="setting-up-study1" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Setting up</h1>
<p>In this section, I process and analyze the data for Study 1.
First, I load all libraries that we need for the analysis.
The <code>pacman</code> package just makes it easier to load packages.
Note that the final version of this page doesn’t evaluate the code chunk below to avoid installing packages on your machine.
If you’re fine with them being installed, set <code>eval = TRUE</code>.</p>
<p>If you run the entire project with the <code>renv</code> private library, installing packages should’ve happened with the <code>renv::restore</code> call.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="setting-up-study1.html#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="sc">!</span><span class="fu">requireNamespace</span>(<span class="st">&quot;pacman&quot;</span>))</span>
<span id="cb1-2"><a href="setting-up-study1.html#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">install.packages</span>(<span class="st">&quot;pacman&quot;</span>)</span>
<span id="cb1-3"><a href="setting-up-study1.html#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="setting-up-study1.html#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb1-5"><a href="setting-up-study1.html#cb1-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-6"><a href="setting-up-study1.html#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="co"># load packages</span></span>
<span id="cb1-7"><a href="setting-up-study1.html#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(</span>
<span id="cb1-8"><a href="setting-up-study1.html#cb1-8" aria-hidden="true" tabindex="-1"></a>  tidyverse,</span>
<span id="cb1-9"><a href="setting-up-study1.html#cb1-9" aria-hidden="true" tabindex="-1"></a>  lubridate,</span>
<span id="cb1-10"><a href="setting-up-study1.html#cb1-10" aria-hidden="true" tabindex="-1"></a>  here,</span>
<span id="cb1-11"><a href="setting-up-study1.html#cb1-11" aria-hidden="true" tabindex="-1"></a>  MBESS,</span>
<span id="cb1-12"><a href="setting-up-study1.html#cb1-12" aria-hidden="true" tabindex="-1"></a>  ggridges,</span>
<span id="cb1-13"><a href="setting-up-study1.html#cb1-13" aria-hidden="true" tabindex="-1"></a>  GGally,</span>
<span id="cb1-14"><a href="setting-up-study1.html#cb1-14" aria-hidden="true" tabindex="-1"></a>  ggalt,</span>
<span id="cb1-15"><a href="setting-up-study1.html#cb1-15" aria-hidden="true" tabindex="-1"></a>  cowplot,</span>
<span id="cb1-16"><a href="setting-up-study1.html#cb1-16" aria-hidden="true" tabindex="-1"></a>  brms,</span>
<span id="cb1-17"><a href="setting-up-study1.html#cb1-17" aria-hidden="true" tabindex="-1"></a>  ggbeeswarm,</span>
<span id="cb1-18"><a href="setting-up-study1.html#cb1-18" aria-hidden="true" tabindex="-1"></a>  extrafont</span>
<span id="cb1-19"><a href="setting-up-study1.html#cb1-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-20"><a href="setting-up-study1.html#cb1-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-21"><a href="setting-up-study1.html#cb1-21" aria-hidden="true" tabindex="-1"></a><span class="co"># set seed</span></span>
<span id="cb1-22"><a href="setting-up-study1.html#cb1-22" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">42</span>)</span>
<span id="cb1-23"><a href="setting-up-study1.html#cb1-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-24"><a href="setting-up-study1.html#cb1-24" aria-hidden="true" tabindex="-1"></a><span class="co"># set theme</span></span>
<span id="cb1-25"><a href="setting-up-study1.html#cb1-25" aria-hidden="true" tabindex="-1"></a><span class="fu">theme_set</span>(<span class="fu">theme_cowplot</span>())</span></code></pre></div>
<p>Below custom functions that I use throughout the project.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2-1"><a href="setting-up-study1.html#cb2-1" aria-hidden="true" tabindex="-1"></a>dens_with_points <span class="ot">&lt;-</span> </span>
<span id="cb2-2"><a href="setting-up-study1.html#cb2-2" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb2-3"><a href="setting-up-study1.html#cb2-3" aria-hidden="true" tabindex="-1"></a>    data,</span>
<span id="cb2-4"><a href="setting-up-study1.html#cb2-4" aria-hidden="true" tabindex="-1"></a>    variable</span>
<span id="cb2-5"><a href="setting-up-study1.html#cb2-5" aria-hidden="true" tabindex="-1"></a>  ) {</span>
<span id="cb2-6"><a href="setting-up-study1.html#cb2-6" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> </span>
<span id="cb2-7"><a href="setting-up-study1.html#cb2-7" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(data, <span class="fu">aes_string</span>(<span class="at">x =</span> variable, <span class="at">y =</span> <span class="dv">0</span>)) <span class="sc">+</span></span>
<span id="cb2-8"><a href="setting-up-study1.html#cb2-8" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density_ridges</span>(</span>
<span id="cb2-9"><a href="setting-up-study1.html#cb2-9" aria-hidden="true" tabindex="-1"></a>        <span class="at">jittered_points =</span> <span class="cn">TRUE</span>, </span>
<span id="cb2-10"><a href="setting-up-study1.html#cb2-10" aria-hidden="true" tabindex="-1"></a>        <span class="at">position =</span> <span class="st">&quot;raincloud&quot;</span>, </span>
<span id="cb2-11"><a href="setting-up-study1.html#cb2-11" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="st">&quot;darkslateblue&quot;</span>, </span>
<span id="cb2-12"><a href="setting-up-study1.html#cb2-12" aria-hidden="true" tabindex="-1"></a>        <span class="at">point_color =</span> <span class="st">&quot;darkslateblue&quot;</span>, </span>
<span id="cb2-13"><a href="setting-up-study1.html#cb2-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="st">&quot;darkslateblue&quot;</span>, </span>
<span id="cb2-14"><a href="setting-up-study1.html#cb2-14" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb2-15"><a href="setting-up-study1.html#cb2-15" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-16"><a href="setting-up-study1.html#cb2-16" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme_cowplot</span>() <span class="sc">+</span></span>
<span id="cb2-17"><a href="setting-up-study1.html#cb2-17" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb2-18"><a href="setting-up-study1.html#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-19"><a href="setting-up-study1.html#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-20"><a href="setting-up-study1.html#cb2-20" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-21"><a href="setting-up-study1.html#cb2-21" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-22"><a href="setting-up-study1.html#cb2-22" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.x=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-23"><a href="setting-up-study1.html#cb2-23" aria-hidden="true" tabindex="-1"></a>        <span class="at">legend.position=</span><span class="st">&quot;none&quot;</span>,</span>
<span id="cb2-24"><a href="setting-up-study1.html#cb2-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.background=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-25"><a href="setting-up-study1.html#cb2-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.border=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-26"><a href="setting-up-study1.html#cb2-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.major=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-27"><a href="setting-up-study1.html#cb2-27" aria-hidden="true" tabindex="-1"></a>        <span class="at">panel.grid.minor=</span><span class="fu">element_blank</span>(),</span>
<span id="cb2-28"><a href="setting-up-study1.html#cb2-28" aria-hidden="true" tabindex="-1"></a>        <span class="at">plot.background=</span><span class="fu">element_blank</span>()</span>
<span id="cb2-29"><a href="setting-up-study1.html#cb2-29" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-30"><a href="setting-up-study1.html#cb2-30" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-31"><a href="setting-up-study1.html#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(p)</span>
<span id="cb2-32"><a href="setting-up-study1.html#cb2-32" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-33"><a href="setting-up-study1.html#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="setting-up-study1.html#cb2-34" aria-hidden="true" tabindex="-1"></a>word2num <span class="ot">&lt;-</span> <span class="cf">function</span>(word){</span>
<span id="cb2-35"><a href="setting-up-study1.html#cb2-35" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-36"><a href="setting-up-study1.html#cb2-36" aria-hidden="true" tabindex="-1"></a>  <span class="co"># added to deal with NA</span></span>
<span id="cb2-37"><a href="setting-up-study1.html#cb2-37" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="fu">is.na</span>(word)){</span>
<span id="cb2-38"><a href="setting-up-study1.html#cb2-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(<span class="cn">NA</span>)</span>
<span id="cb2-39"><a href="setting-up-study1.html#cb2-39" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-40"><a href="setting-up-study1.html#cb2-40" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> {</span>
<span id="cb2-41"><a href="setting-up-study1.html#cb2-41" aria-hidden="true" tabindex="-1"></a>    wsplit <span class="ot">&lt;-</span> <span class="fu">strsplit</span>(<span class="fu">tolower</span>(word),<span class="st">&quot; &quot;</span>)[[<span class="dv">1</span>]]</span>
<span id="cb2-42"><a href="setting-up-study1.html#cb2-42" aria-hidden="true" tabindex="-1"></a>    one_digits <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">zero=</span><span class="dv">0</span>, <span class="at">one=</span><span class="dv">1</span>, <span class="at">two=</span><span class="dv">2</span>, <span class="at">three=</span><span class="dv">3</span>, <span class="at">four=</span><span class="dv">4</span>, <span class="at">five=</span><span class="dv">5</span>,</span>
<span id="cb2-43"><a href="setting-up-study1.html#cb2-43" aria-hidden="true" tabindex="-1"></a>                       <span class="at">six=</span><span class="dv">6</span>, <span class="at">seven=</span><span class="dv">7</span>, <span class="at">eight=</span><span class="dv">8</span>, <span class="at">nine=</span><span class="dv">9</span>)</span>
<span id="cb2-44"><a href="setting-up-study1.html#cb2-44" aria-hidden="true" tabindex="-1"></a>    teens <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">eleven=</span><span class="dv">11</span>, <span class="at">twelve=</span><span class="dv">12</span>, <span class="at">thirteen=</span><span class="dv">13</span>, <span class="at">fourteen=</span><span class="dv">14</span>, <span class="at">fifteen=</span><span class="dv">15</span>,</span>
<span id="cb2-45"><a href="setting-up-study1.html#cb2-45" aria-hidden="true" tabindex="-1"></a>                  <span class="at">sixteen=</span><span class="dv">16</span>, <span class="at">seventeen=</span><span class="dv">17</span>, <span class="at">eighteen=</span><span class="dv">18</span>, <span class="at">nineteen=</span><span class="dv">19</span>)</span>
<span id="cb2-46"><a href="setting-up-study1.html#cb2-46" aria-hidden="true" tabindex="-1"></a>    ten_digits <span class="ot">&lt;-</span> <span class="fu">list</span>(<span class="at">ten=</span><span class="dv">10</span>, <span class="at">twenty=</span><span class="dv">20</span>, <span class="at">thirty=</span><span class="dv">30</span>, <span class="at">forty=</span><span class="dv">40</span>, <span class="at">fifty=</span><span class="dv">50</span>,</span>
<span id="cb2-47"><a href="setting-up-study1.html#cb2-47" aria-hidden="true" tabindex="-1"></a>                       <span class="at">sixty=</span><span class="dv">60</span>, <span class="at">seventy=</span><span class="dv">70</span>, <span class="at">eighty=</span><span class="dv">80</span>, <span class="at">ninety=</span><span class="dv">90</span>)</span>
<span id="cb2-48"><a href="setting-up-study1.html#cb2-48" aria-hidden="true" tabindex="-1"></a>    doubles <span class="ot">&lt;-</span> <span class="fu">c</span>(teens,ten_digits)</span>
<span id="cb2-49"><a href="setting-up-study1.html#cb2-49" aria-hidden="true" tabindex="-1"></a>    out <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb2-50"><a href="setting-up-study1.html#cb2-50" aria-hidden="true" tabindex="-1"></a>    i <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-51"><a href="setting-up-study1.html#cb2-51" aria-hidden="true" tabindex="-1"></a>    <span class="cf">while</span>(i <span class="sc">&lt;=</span> <span class="fu">length</span>(wsplit)){</span>
<span id="cb2-52"><a href="setting-up-study1.html#cb2-52" aria-hidden="true" tabindex="-1"></a>      j <span class="ot">&lt;-</span> <span class="dv">1</span></span>
<span id="cb2-53"><a href="setting-up-study1.html#cb2-53" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(i<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;&amp;</span> wsplit[i]<span class="sc">==</span><span class="st">&quot;hundred&quot;</span>)</span>
<span id="cb2-54"><a href="setting-up-study1.html#cb2-54" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb2-55"><a href="setting-up-study1.html#cb2-55" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(i<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;&amp;</span> wsplit[i]<span class="sc">==</span><span class="st">&quot;thousand&quot;</span>)</span>
<span id="cb2-56"><a href="setting-up-study1.html#cb2-56" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> <span class="dv">1000</span></span>
<span id="cb2-57"><a href="setting-up-study1.html#cb2-57" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(wsplit[i] <span class="sc">%in%</span> <span class="fu">names</span>(one_digits))</span>
<span id="cb2-58"><a href="setting-up-study1.html#cb2-58" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(one_digits[wsplit[i]])</span>
<span id="cb2-59"><a href="setting-up-study1.html#cb2-59" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(wsplit[i] <span class="sc">%in%</span> <span class="fu">names</span>(teens))</span>
<span id="cb2-60"><a href="setting-up-study1.html#cb2-60" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(teens[wsplit[i]])</span>
<span id="cb2-61"><a href="setting-up-study1.html#cb2-61" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(wsplit[i] <span class="sc">%in%</span> <span class="fu">names</span>(ten_digits))</span>
<span id="cb2-62"><a href="setting-up-study1.html#cb2-62" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> (<span class="fu">as.numeric</span>(ten_digits[wsplit[i]]))</span>
<span id="cb2-63"><a href="setting-up-study1.html#cb2-63" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span>(i <span class="sc">&lt;</span> <span class="fu">length</span>(wsplit) <span class="sc">&amp;&amp;</span> wsplit[i<span class="sc">+</span><span class="dv">1</span>]<span class="sc">==</span><span class="st">&quot;hundred&quot;</span>){</span>
<span id="cb2-64"><a href="setting-up-study1.html#cb2-64" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(i<span class="sc">&gt;</span><span class="dv">1</span> <span class="sc">&amp;&amp;</span> wsplit[i<span class="dv">-1</span>] <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;hundred&quot;</span>,<span class="st">&quot;thousand&quot;</span>))</span>
<span id="cb2-65"><a href="setting-up-study1.html#cb2-65" aria-hidden="true" tabindex="-1"></a>          out <span class="ot">&lt;-</span> out <span class="sc">+</span> <span class="dv">100</span><span class="sc">*</span>temp</span>
<span id="cb2-66"><a href="setting-up-study1.html#cb2-66" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb2-67"><a href="setting-up-study1.html#cb2-67" aria-hidden="true" tabindex="-1"></a>          out <span class="ot">&lt;-</span> <span class="dv">100</span><span class="sc">*</span>(out <span class="sc">+</span> temp)</span>
<span id="cb2-68"><a href="setting-up-study1.html#cb2-68" aria-hidden="true" tabindex="-1"></a>          j <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb2-69"><a href="setting-up-study1.html#cb2-69" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-70"><a href="setting-up-study1.html#cb2-70" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(i <span class="sc">&lt;</span> <span class="fu">length</span>(wsplit) <span class="sc">&amp;&amp;</span> wsplit[i<span class="sc">+</span><span class="dv">1</span>]<span class="sc">==</span><span class="st">&quot;thousand&quot;</span>){</span>
<span id="cb2-71"><a href="setting-up-study1.html#cb2-71" aria-hidden="true" tabindex="-1"></a>        <span class="cf">if</span>(i<span class="sc">&gt;</span><span class="dv">1</span> <span class="sc">&amp;&amp;</span> wsplit[i<span class="dv">-1</span>] <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">&quot;hundred&quot;</span>,<span class="st">&quot;thousand&quot;</span>))</span>
<span id="cb2-72"><a href="setting-up-study1.html#cb2-72" aria-hidden="true" tabindex="-1"></a>          out <span class="ot">&lt;-</span> out <span class="sc">+</span> <span class="dv">1000</span><span class="sc">*</span>temp</span>
<span id="cb2-73"><a href="setting-up-study1.html#cb2-73" aria-hidden="true" tabindex="-1"></a>        <span class="cf">else</span></span>
<span id="cb2-74"><a href="setting-up-study1.html#cb2-74" aria-hidden="true" tabindex="-1"></a>          out <span class="ot">&lt;-</span> <span class="dv">1000</span><span class="sc">*</span>(out <span class="sc">+</span> temp)</span>
<span id="cb2-75"><a href="setting-up-study1.html#cb2-75" aria-hidden="true" tabindex="-1"></a>          j <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb2-76"><a href="setting-up-study1.html#cb2-76" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-77"><a href="setting-up-study1.html#cb2-77" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span> <span class="cf">if</span>(i <span class="sc">&lt;</span> <span class="fu">length</span>(wsplit) <span class="sc">&amp;&amp;</span> wsplit[i<span class="sc">+</span><span class="dv">1</span>] <span class="sc">%in%</span> <span class="fu">names</span>(doubles)){</span>
<span id="cb2-78"><a href="setting-up-study1.html#cb2-78" aria-hidden="true" tabindex="-1"></a>        temp <span class="ot">&lt;-</span> temp<span class="sc">*</span><span class="dv">100</span></span>
<span id="cb2-79"><a href="setting-up-study1.html#cb2-79" aria-hidden="true" tabindex="-1"></a>        out <span class="ot">&lt;-</span> out <span class="sc">+</span> temp</span>
<span id="cb2-80"><a href="setting-up-study1.html#cb2-80" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-81"><a href="setting-up-study1.html#cb2-81" aria-hidden="true" tabindex="-1"></a>      <span class="cf">else</span>{</span>
<span id="cb2-82"><a href="setting-up-study1.html#cb2-82" aria-hidden="true" tabindex="-1"></a>        out <span class="ot">&lt;-</span> out <span class="sc">+</span> temp</span>
<span id="cb2-83"><a href="setting-up-study1.html#cb2-83" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-84"><a href="setting-up-study1.html#cb2-84" aria-hidden="true" tabindex="-1"></a>      i <span class="ot">&lt;-</span> i <span class="sc">+</span> j</span>
<span id="cb2-85"><a href="setting-up-study1.html#cb2-85" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-86"><a href="setting-up-study1.html#cb2-86" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(out)</span>
<span id="cb2-87"><a href="setting-up-study1.html#cb2-87" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-88"><a href="setting-up-study1.html#cb2-88" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-89"><a href="setting-up-study1.html#cb2-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-90"><a href="setting-up-study1.html#cb2-90" aria-hidden="true" tabindex="-1"></a>describe <span class="ot">&lt;-</span> <span class="cf">function</span>(</span>
<span id="cb2-91"><a href="setting-up-study1.html#cb2-91" aria-hidden="true" tabindex="-1"></a>  dat,</span>
<span id="cb2-92"><a href="setting-up-study1.html#cb2-92" aria-hidden="true" tabindex="-1"></a>  variable,</span>
<span id="cb2-93"><a href="setting-up-study1.html#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="at">trait =</span> <span class="cn">FALSE</span></span>
<span id="cb2-94"><a href="setting-up-study1.html#cb2-94" aria-hidden="true" tabindex="-1"></a>){</span>
<span id="cb2-95"><a href="setting-up-study1.html#cb2-95" aria-hidden="true" tabindex="-1"></a>  <span class="co"># if variable is not repeated-measures, take only one measure per participant</span></span>
<span id="cb2-96"><a href="setting-up-study1.html#cb2-96" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (trait <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb2-97"><a href="setting-up-study1.html#cb2-97" aria-hidden="true" tabindex="-1"></a>    dat <span class="ot">&lt;-</span> </span>
<span id="cb2-98"><a href="setting-up-study1.html#cb2-98" aria-hidden="true" tabindex="-1"></a>      dat <span class="sc">%&gt;%</span></span>
<span id="cb2-99"><a href="setting-up-study1.html#cb2-99" aria-hidden="true" tabindex="-1"></a>      <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb2-100"><a href="setting-up-study1.html#cb2-100" aria-hidden="true" tabindex="-1"></a>      <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-101"><a href="setting-up-study1.html#cb2-101" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ungroup</span>()</span>
<span id="cb2-102"><a href="setting-up-study1.html#cb2-102" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-103"><a href="setting-up-study1.html#cb2-103" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-104"><a href="setting-up-study1.html#cb2-104" aria-hidden="true" tabindex="-1"></a>  <span class="co"># then get descriptives</span></span>
<span id="cb2-105"><a href="setting-up-study1.html#cb2-105" aria-hidden="true" tabindex="-1"></a>  descriptives <span class="ot">&lt;-</span></span>
<span id="cb2-106"><a href="setting-up-study1.html#cb2-106" aria-hidden="true" tabindex="-1"></a>    dat <span class="sc">%&gt;%</span></span>
<span id="cb2-107"><a href="setting-up-study1.html#cb2-107" aria-hidden="true" tabindex="-1"></a>    <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(<span class="fu">UQ</span>(<span class="fu">sym</span>(variable)))) <span class="sc">%&gt;%</span> <span class="co"># remove missing values</span></span>
<span id="cb2-108"><a href="setting-up-study1.html#cb2-108" aria-hidden="true" tabindex="-1"></a>    <span class="fu">summarise</span>(</span>
<span id="cb2-109"><a href="setting-up-study1.html#cb2-109" aria-hidden="true" tabindex="-1"></a>      <span class="fu">across</span>(</span>
<span id="cb2-110"><a href="setting-up-study1.html#cb2-110" aria-hidden="true" tabindex="-1"></a>        <span class="sc">!!</span> variable,</span>
<span id="cb2-111"><a href="setting-up-study1.html#cb2-111" aria-hidden="true" tabindex="-1"></a>        <span class="fu">list</span>(</span>
<span id="cb2-112"><a href="setting-up-study1.html#cb2-112" aria-hidden="true" tabindex="-1"></a>          <span class="at">mean =</span> mean,</span>
<span id="cb2-113"><a href="setting-up-study1.html#cb2-113" aria-hidden="true" tabindex="-1"></a>          <span class="at">sd =</span> sd,</span>
<span id="cb2-114"><a href="setting-up-study1.html#cb2-114" aria-hidden="true" tabindex="-1"></a>          <span class="at">median =</span> median,</span>
<span id="cb2-115"><a href="setting-up-study1.html#cb2-115" aria-hidden="true" tabindex="-1"></a>          <span class="at">min =</span> min,</span>
<span id="cb2-116"><a href="setting-up-study1.html#cb2-116" aria-hidden="true" tabindex="-1"></a>          <span class="at">max =</span> max,</span>
<span id="cb2-117"><a href="setting-up-study1.html#cb2-117" aria-hidden="true" tabindex="-1"></a>          <span class="at">cilow =</span> <span class="sc">~</span>Rmisc<span class="sc">::</span><span class="fu">CI</span>(.x)[[<span class="dv">3</span>]], <span class="co"># lower CI</span></span>
<span id="cb2-118"><a href="setting-up-study1.html#cb2-118" aria-hidden="true" tabindex="-1"></a>          <span class="at">cihigh =</span> <span class="sc">~</span>Rmisc<span class="sc">::</span><span class="fu">CI</span>(.x)[[<span class="dv">1</span>]] <span class="co"># upper CI</span></span>
<span id="cb2-119"><a href="setting-up-study1.html#cb2-119" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-120"><a href="setting-up-study1.html#cb2-120" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-121"><a href="setting-up-study1.html#cb2-121" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-122"><a href="setting-up-study1.html#cb2-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-123"><a href="setting-up-study1.html#cb2-123" aria-hidden="true" tabindex="-1"></a>  descriptives <span class="ot">&lt;-</span></span>
<span id="cb2-124"><a href="setting-up-study1.html#cb2-124" aria-hidden="true" tabindex="-1"></a>    descriptives <span class="sc">%&gt;%</span></span>
<span id="cb2-125"><a href="setting-up-study1.html#cb2-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-126"><a href="setting-up-study1.html#cb2-126" aria-hidden="true" tabindex="-1"></a>    <span class="co"># only keep measure</span></span>
<span id="cb2-127"><a href="setting-up-study1.html#cb2-127" aria-hidden="true" tabindex="-1"></a>    <span class="fu">rename_all</span>(</span>
<span id="cb2-128"><a href="setting-up-study1.html#cb2-128" aria-hidden="true" tabindex="-1"></a>      <span class="sc">~</span> <span class="fu">str_remove</span>(</span>
<span id="cb2-129"><a href="setting-up-study1.html#cb2-129" aria-hidden="true" tabindex="-1"></a>        .,</span>
<span id="cb2-130"><a href="setting-up-study1.html#cb2-130" aria-hidden="true" tabindex="-1"></a>        <span class="fu">paste0</span>(variable, <span class="st">&quot;_&quot;</span>)</span>
<span id="cb2-131"><a href="setting-up-study1.html#cb2-131" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-132"><a href="setting-up-study1.html#cb2-132" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb2-133"><a href="setting-up-study1.html#cb2-133" aria-hidden="true" tabindex="-1"></a>    <span class="fu">mutate</span>(</span>
<span id="cb2-134"><a href="setting-up-study1.html#cb2-134" aria-hidden="true" tabindex="-1"></a>      <span class="at">variable =</span> variable,</span>
<span id="cb2-135"><a href="setting-up-study1.html#cb2-135" aria-hidden="true" tabindex="-1"></a>      <span class="at">range =</span> max <span class="sc">-</span> min</span>
<span id="cb2-136"><a href="setting-up-study1.html#cb2-136" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">%&gt;%</span></span>
<span id="cb2-137"><a href="setting-up-study1.html#cb2-137" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(variable) <span class="sc">%&gt;%</span></span>
<span id="cb2-138"><a href="setting-up-study1.html#cb2-138" aria-hidden="true" tabindex="-1"></a>    <span class="fu">relocate</span>(</span>
<span id="cb2-139"><a href="setting-up-study1.html#cb2-139" aria-hidden="true" tabindex="-1"></a>      range,</span>
<span id="cb2-140"><a href="setting-up-study1.html#cb2-140" aria-hidden="true" tabindex="-1"></a>      <span class="at">.after =</span> max</span>
<span id="cb2-141"><a href="setting-up-study1.html#cb2-141" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-142"><a href="setting-up-study1.html#cb2-142" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb2-143"><a href="setting-up-study1.html#cb2-143" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(descriptives)</span>
<span id="cb2-144"><a href="setting-up-study1.html#cb2-144" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-145"><a href="setting-up-study1.html#cb2-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-146"><a href="setting-up-study1.html#cb2-146" aria-hidden="true" tabindex="-1"></a><span class="co"># raincloud plot function from https://github.com/RainCloudPlots/RainCloudPlots/blob/master/tutorial_R/R_rainclouds.R</span></span>
<span id="cb2-147"><a href="setting-up-study1.html#cb2-147" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the geom_flat_violin function ----</span></span>
<span id="cb2-148"><a href="setting-up-study1.html#cb2-148" aria-hidden="true" tabindex="-1"></a><span class="co"># Note: the below code modifies the</span></span>
<span id="cb2-149"><a href="setting-up-study1.html#cb2-149" aria-hidden="true" tabindex="-1"></a><span class="co"># existing github page by removing a parenthesis in line 50</span></span>
<span id="cb2-150"><a href="setting-up-study1.html#cb2-150" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-151"><a href="setting-up-study1.html#cb2-151" aria-hidden="true" tabindex="-1"></a><span class="st">&quot;%||%&quot;</span> <span class="ot">&lt;-</span> <span class="cf">function</span>(a, b) {</span>
<span id="cb2-152"><a href="setting-up-study1.html#cb2-152" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (<span class="sc">!</span><span class="fu">is.null</span>(a)) a <span class="cf">else</span> b</span>
<span id="cb2-153"><a href="setting-up-study1.html#cb2-153" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-154"><a href="setting-up-study1.html#cb2-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-155"><a href="setting-up-study1.html#cb2-155" aria-hidden="true" tabindex="-1"></a>geom_flat_violin <span class="ot">&lt;-</span> <span class="cf">function</span>(<span class="at">mapping =</span> <span class="cn">NULL</span>, <span class="at">data =</span> <span class="cn">NULL</span>, <span class="at">stat =</span> <span class="st">&quot;ydensity&quot;</span>,</span>
<span id="cb2-156"><a href="setting-up-study1.html#cb2-156" aria-hidden="true" tabindex="-1"></a>                             <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>, <span class="at">trim =</span> <span class="cn">TRUE</span>, <span class="at">scale =</span> <span class="st">&quot;area&quot;</span>,</span>
<span id="cb2-157"><a href="setting-up-study1.html#cb2-157" aria-hidden="true" tabindex="-1"></a>                             <span class="at">show.legend =</span> <span class="cn">NA</span>, <span class="at">inherit.aes =</span> <span class="cn">TRUE</span>, ...) {</span>
<span id="cb2-158"><a href="setting-up-study1.html#cb2-158" aria-hidden="true" tabindex="-1"></a>  <span class="fu">layer</span>(</span>
<span id="cb2-159"><a href="setting-up-study1.html#cb2-159" aria-hidden="true" tabindex="-1"></a>    <span class="at">data =</span> data,</span>
<span id="cb2-160"><a href="setting-up-study1.html#cb2-160" aria-hidden="true" tabindex="-1"></a>    <span class="at">mapping =</span> mapping,</span>
<span id="cb2-161"><a href="setting-up-study1.html#cb2-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">stat =</span> stat,</span>
<span id="cb2-162"><a href="setting-up-study1.html#cb2-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">geom =</span> GeomFlatViolin,</span>
<span id="cb2-163"><a href="setting-up-study1.html#cb2-163" aria-hidden="true" tabindex="-1"></a>    <span class="at">position =</span> position,</span>
<span id="cb2-164"><a href="setting-up-study1.html#cb2-164" aria-hidden="true" tabindex="-1"></a>    <span class="at">show.legend =</span> show.legend,</span>
<span id="cb2-165"><a href="setting-up-study1.html#cb2-165" aria-hidden="true" tabindex="-1"></a>    <span class="at">inherit.aes =</span> inherit.aes,</span>
<span id="cb2-166"><a href="setting-up-study1.html#cb2-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">params =</span> <span class="fu">list</span>(</span>
<span id="cb2-167"><a href="setting-up-study1.html#cb2-167" aria-hidden="true" tabindex="-1"></a>      <span class="at">trim =</span> trim,</span>
<span id="cb2-168"><a href="setting-up-study1.html#cb2-168" aria-hidden="true" tabindex="-1"></a>      <span class="at">scale =</span> scale,</span>
<span id="cb2-169"><a href="setting-up-study1.html#cb2-169" aria-hidden="true" tabindex="-1"></a>      ...</span>
<span id="cb2-170"><a href="setting-up-study1.html#cb2-170" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb2-171"><a href="setting-up-study1.html#cb2-171" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-172"><a href="setting-up-study1.html#cb2-172" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-173"><a href="setting-up-study1.html#cb2-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-174"><a href="setting-up-study1.html#cb2-174" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @rdname ggplot2-ggproto</span></span>
<span id="cb2-175"><a href="setting-up-study1.html#cb2-175" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @format NULL</span></span>
<span id="cb2-176"><a href="setting-up-study1.html#cb2-176" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @usage NULL</span></span>
<span id="cb2-177"><a href="setting-up-study1.html#cb2-177" aria-hidden="true" tabindex="-1"></a><span class="co">#&#39; @export</span></span>
<span id="cb2-178"><a href="setting-up-study1.html#cb2-178" aria-hidden="true" tabindex="-1"></a>GeomFlatViolin <span class="ot">&lt;-</span></span>
<span id="cb2-179"><a href="setting-up-study1.html#cb2-179" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggproto</span>(<span class="st">&quot;GeomFlatViolin&quot;</span>, Geom,</span>
<span id="cb2-180"><a href="setting-up-study1.html#cb2-180" aria-hidden="true" tabindex="-1"></a>    <span class="at">setup_data =</span> <span class="cf">function</span>(data, params) {</span>
<span id="cb2-181"><a href="setting-up-study1.html#cb2-181" aria-hidden="true" tabindex="-1"></a>      data<span class="sc">$</span>width <span class="ot">&lt;-</span> data<span class="sc">$</span>width <span class="sc">%||%</span></span>
<span id="cb2-182"><a href="setting-up-study1.html#cb2-182" aria-hidden="true" tabindex="-1"></a>        params<span class="sc">$</span>width <span class="sc">%||%</span> (<span class="fu">resolution</span>(data<span class="sc">$</span>x, <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="fl">0.9</span>)</span>
<span id="cb2-183"><a href="setting-up-study1.html#cb2-183" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-184"><a href="setting-up-study1.html#cb2-184" aria-hidden="true" tabindex="-1"></a>      <span class="co"># ymin, ymax, xmin, and xmax define the bounding rectangle for each group</span></span>
<span id="cb2-185"><a href="setting-up-study1.html#cb2-185" aria-hidden="true" tabindex="-1"></a>      data <span class="sc">%&gt;%</span></span>
<span id="cb2-186"><a href="setting-up-study1.html#cb2-186" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(group) <span class="sc">%&gt;%</span></span>
<span id="cb2-187"><a href="setting-up-study1.html#cb2-187" aria-hidden="true" tabindex="-1"></a>        <span class="fu">mutate</span>(</span>
<span id="cb2-188"><a href="setting-up-study1.html#cb2-188" aria-hidden="true" tabindex="-1"></a>          <span class="at">ymin =</span> <span class="fu">min</span>(y),</span>
<span id="cb2-189"><a href="setting-up-study1.html#cb2-189" aria-hidden="true" tabindex="-1"></a>          <span class="at">ymax =</span> <span class="fu">max</span>(y),</span>
<span id="cb2-190"><a href="setting-up-study1.html#cb2-190" aria-hidden="true" tabindex="-1"></a>          <span class="at">xmin =</span> x,</span>
<span id="cb2-191"><a href="setting-up-study1.html#cb2-191" aria-hidden="true" tabindex="-1"></a>          <span class="at">xmax =</span> x <span class="sc">+</span> width <span class="sc">/</span> <span class="dv">2</span></span>
<span id="cb2-192"><a href="setting-up-study1.html#cb2-192" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-193"><a href="setting-up-study1.html#cb2-193" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb2-194"><a href="setting-up-study1.html#cb2-194" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-195"><a href="setting-up-study1.html#cb2-195" aria-hidden="true" tabindex="-1"></a>    <span class="at">draw_group =</span> <span class="cf">function</span>(data, panel_scales, coord) {</span>
<span id="cb2-196"><a href="setting-up-study1.html#cb2-196" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Find the points for the line to go all the way around</span></span>
<span id="cb2-197"><a href="setting-up-study1.html#cb2-197" aria-hidden="true" tabindex="-1"></a>      data <span class="ot">&lt;-</span> <span class="fu">transform</span>(data,</span>
<span id="cb2-198"><a href="setting-up-study1.html#cb2-198" aria-hidden="true" tabindex="-1"></a>        <span class="at">xminv =</span> x,</span>
<span id="cb2-199"><a href="setting-up-study1.html#cb2-199" aria-hidden="true" tabindex="-1"></a>        <span class="at">xmaxv =</span> x <span class="sc">+</span> violinwidth <span class="sc">*</span> (xmax <span class="sc">-</span> x)</span>
<span id="cb2-200"><a href="setting-up-study1.html#cb2-200" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-201"><a href="setting-up-study1.html#cb2-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-202"><a href="setting-up-study1.html#cb2-202" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Make sure it&#39;s sorted properly to draw the outline</span></span>
<span id="cb2-203"><a href="setting-up-study1.html#cb2-203" aria-hidden="true" tabindex="-1"></a>      newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(</span>
<span id="cb2-204"><a href="setting-up-study1.html#cb2-204" aria-hidden="true" tabindex="-1"></a>        plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xminv), y),</span>
<span id="cb2-205"><a href="setting-up-study1.html#cb2-205" aria-hidden="true" tabindex="-1"></a>        plyr<span class="sc">::</span><span class="fu">arrange</span>(<span class="fu">transform</span>(data, <span class="at">x =</span> xmaxv), <span class="sc">-</span>y)</span>
<span id="cb2-206"><a href="setting-up-study1.html#cb2-206" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb2-207"><a href="setting-up-study1.html#cb2-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-208"><a href="setting-up-study1.html#cb2-208" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Close the polygon: set first and last point the same</span></span>
<span id="cb2-209"><a href="setting-up-study1.html#cb2-209" aria-hidden="true" tabindex="-1"></a>      <span class="co"># Needed for coord_polar and such</span></span>
<span id="cb2-210"><a href="setting-up-study1.html#cb2-210" aria-hidden="true" tabindex="-1"></a>      newdata <span class="ot">&lt;-</span> <span class="fu">rbind</span>(newdata, newdata[<span class="dv">1</span>, ])</span>
<span id="cb2-211"><a href="setting-up-study1.html#cb2-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-212"><a href="setting-up-study1.html#cb2-212" aria-hidden="true" tabindex="-1"></a>      ggplot2<span class="sc">:::</span><span class="fu">ggname</span>(<span class="st">&quot;geom_flat_violin&quot;</span>, GeomPolygon<span class="sc">$</span><span class="fu">draw_panel</span>(newdata, panel_scales, coord))</span>
<span id="cb2-213"><a href="setting-up-study1.html#cb2-213" aria-hidden="true" tabindex="-1"></a>    },</span>
<span id="cb2-214"><a href="setting-up-study1.html#cb2-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-215"><a href="setting-up-study1.html#cb2-215" aria-hidden="true" tabindex="-1"></a>    <span class="at">draw_key =</span> draw_key_polygon,</span>
<span id="cb2-216"><a href="setting-up-study1.html#cb2-216" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-217"><a href="setting-up-study1.html#cb2-217" aria-hidden="true" tabindex="-1"></a>    <span class="at">default_aes =</span> <span class="fu">aes</span>(</span>
<span id="cb2-218"><a href="setting-up-study1.html#cb2-218" aria-hidden="true" tabindex="-1"></a>      <span class="at">weight =</span> <span class="dv">1</span>, <span class="at">colour =</span> <span class="st">&quot;grey20&quot;</span>, <span class="at">fill =</span> <span class="st">&quot;white&quot;</span>, <span class="at">size =</span> <span class="fl">0.5</span>,</span>
<span id="cb2-219"><a href="setting-up-study1.html#cb2-219" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="cn">NA</span>, <span class="at">linetype =</span> <span class="st">&quot;solid&quot;</span></span>
<span id="cb2-220"><a href="setting-up-study1.html#cb2-220" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-221"><a href="setting-up-study1.html#cb2-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-222"><a href="setting-up-study1.html#cb2-222" aria-hidden="true" tabindex="-1"></a>    <span class="at">required_aes =</span> <span class="fu">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>)</span>
<span id="cb2-223"><a href="setting-up-study1.html#cb2-223" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-224"><a href="setting-up-study1.html#cb2-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-225"><a href="setting-up-study1.html#cb2-225" aria-hidden="true" tabindex="-1"></a>single_cloud <span class="ot">&lt;-</span> </span>
<span id="cb2-226"><a href="setting-up-study1.html#cb2-226" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb2-227"><a href="setting-up-study1.html#cb2-227" aria-hidden="true" tabindex="-1"></a>    raw_data,</span>
<span id="cb2-228"><a href="setting-up-study1.html#cb2-228" aria-hidden="true" tabindex="-1"></a>    summary_data,</span>
<span id="cb2-229"><a href="setting-up-study1.html#cb2-229" aria-hidden="true" tabindex="-1"></a>    variable,</span>
<span id="cb2-230"><a href="setting-up-study1.html#cb2-230" aria-hidden="true" tabindex="-1"></a>    color,</span>
<span id="cb2-231"><a href="setting-up-study1.html#cb2-231" aria-hidden="true" tabindex="-1"></a>    title,</span>
<span id="cb2-232"><a href="setting-up-study1.html#cb2-232" aria-hidden="true" tabindex="-1"></a>    <span class="at">trait =</span> <span class="cn">FALSE</span></span>
<span id="cb2-233"><a href="setting-up-study1.html#cb2-233" aria-hidden="true" tabindex="-1"></a>  ){</span>
<span id="cb2-234"><a href="setting-up-study1.html#cb2-234" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-235"><a href="setting-up-study1.html#cb2-235" aria-hidden="true" tabindex="-1"></a>    <span class="co"># take only one row per person if it&#39;s a trait variable</span></span>
<span id="cb2-236"><a href="setting-up-study1.html#cb2-236" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (trait <span class="sc">==</span> <span class="cn">TRUE</span>){</span>
<span id="cb2-237"><a href="setting-up-study1.html#cb2-237" aria-hidden="true" tabindex="-1"></a>      raw_data <span class="ot">&lt;-</span></span>
<span id="cb2-238"><a href="setting-up-study1.html#cb2-238" aria-hidden="true" tabindex="-1"></a>        raw_data <span class="sc">%&gt;%</span> </span>
<span id="cb2-239"><a href="setting-up-study1.html#cb2-239" aria-hidden="true" tabindex="-1"></a>        <span class="fu">group_by</span>(id) <span class="sc">%&gt;%</span> </span>
<span id="cb2-240"><a href="setting-up-study1.html#cb2-240" aria-hidden="true" tabindex="-1"></a>        <span class="fu">slice</span>(<span class="dv">1</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb2-241"><a href="setting-up-study1.html#cb2-241" aria-hidden="true" tabindex="-1"></a>        <span class="fu">ungroup</span>()</span>
<span id="cb2-242"><a href="setting-up-study1.html#cb2-242" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-243"><a href="setting-up-study1.html#cb2-243" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-244"><a href="setting-up-study1.html#cb2-244" aria-hidden="true" tabindex="-1"></a>    <span class="co"># the plot</span></span>
<span id="cb2-245"><a href="setting-up-study1.html#cb2-245" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> </span>
<span id="cb2-246"><a href="setting-up-study1.html#cb2-246" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(</span>
<span id="cb2-247"><a href="setting-up-study1.html#cb2-247" aria-hidden="true" tabindex="-1"></a>        raw_data <span class="sc">%&gt;%</span></span>
<span id="cb2-248"><a href="setting-up-study1.html#cb2-248" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">Density =</span> <span class="dv">1</span>),</span>
<span id="cb2-249"><a href="setting-up-study1.html#cb2-249" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb2-250"><a href="setting-up-study1.html#cb2-250" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> Density,</span>
<span id="cb2-251"><a href="setting-up-study1.html#cb2-251" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> <span class="fu">get</span>(variable)</span>
<span id="cb2-252"><a href="setting-up-study1.html#cb2-252" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb2-253"><a href="setting-up-study1.html#cb2-253" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-254"><a href="setting-up-study1.html#cb2-254" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_flat_violin</span>( <span class="co"># the &quot;cloud&quot;</span></span>
<span id="cb2-255"><a href="setting-up-study1.html#cb2-255" aria-hidden="true" tabindex="-1"></a>        <span class="at">position =</span> <span class="fu">position_nudge</span>(<span class="at">x =</span> .<span class="dv">2</span>, <span class="at">y =</span> <span class="dv">0</span>),</span>
<span id="cb2-256"><a href="setting-up-study1.html#cb2-256" aria-hidden="true" tabindex="-1"></a>        <span class="at">adjust =</span> <span class="dv">2</span>,</span>
<span id="cb2-257"><a href="setting-up-study1.html#cb2-257" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="cn">NA</span>,</span>
<span id="cb2-258"><a href="setting-up-study1.html#cb2-258" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> color,</span>
<span id="cb2-259"><a href="setting-up-study1.html#cb2-259" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb2-260"><a href="setting-up-study1.html#cb2-260" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-261"><a href="setting-up-study1.html#cb2-261" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>( <span class="co"># the &quot;rain&quot;</span></span>
<span id="cb2-262"><a href="setting-up-study1.html#cb2-262" aria-hidden="true" tabindex="-1"></a>        <span class="at">position =</span> <span class="fu">position_jitter</span>(<span class="at">width =</span> .<span class="dv">15</span>),</span>
<span id="cb2-263"><a href="setting-up-study1.html#cb2-263" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">1</span>,</span>
<span id="cb2-264"><a href="setting-up-study1.html#cb2-264" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> color,</span>
<span id="cb2-265"><a href="setting-up-study1.html#cb2-265" aria-hidden="true" tabindex="-1"></a>        <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb2-266"><a href="setting-up-study1.html#cb2-266" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-267"><a href="setting-up-study1.html#cb2-267" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_point</span>( <span class="co"># the mean from the summary stats</span></span>
<span id="cb2-268"><a href="setting-up-study1.html#cb2-268" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> summary_data <span class="sc">%&gt;%</span></span>
<span id="cb2-269"><a href="setting-up-study1.html#cb2-269" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(variable <span class="sc">==</span> <span class="sc">!!</span> variable) <span class="sc">%&gt;%</span></span>
<span id="cb2-270"><a href="setting-up-study1.html#cb2-270" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">Density =</span> <span class="dv">1</span>),</span>
<span id="cb2-271"><a href="setting-up-study1.html#cb2-271" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb2-272"><a href="setting-up-study1.html#cb2-272" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> Density <span class="sc">+</span> <span class="fl">0.175</span>,</span>
<span id="cb2-273"><a href="setting-up-study1.html#cb2-273" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> mean</span>
<span id="cb2-274"><a href="setting-up-study1.html#cb2-274" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-275"><a href="setting-up-study1.html#cb2-275" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> color,</span>
<span id="cb2-276"><a href="setting-up-study1.html#cb2-276" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">2.5</span></span>
<span id="cb2-277"><a href="setting-up-study1.html#cb2-277" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-278"><a href="setting-up-study1.html#cb2-278" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_errorbar</span>( <span class="co"># error bars</span></span>
<span id="cb2-279"><a href="setting-up-study1.html#cb2-279" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> summary_data <span class="sc">%&gt;%</span></span>
<span id="cb2-280"><a href="setting-up-study1.html#cb2-280" aria-hidden="true" tabindex="-1"></a>          <span class="fu">filter</span>(variable <span class="sc">==</span> <span class="sc">!!</span> variable) <span class="sc">%&gt;%</span></span>
<span id="cb2-281"><a href="setting-up-study1.html#cb2-281" aria-hidden="true" tabindex="-1"></a>          <span class="fu">mutate</span>(<span class="at">Density =</span> <span class="dv">1</span>),</span>
<span id="cb2-282"><a href="setting-up-study1.html#cb2-282" aria-hidden="true" tabindex="-1"></a>        <span class="fu">aes</span>(</span>
<span id="cb2-283"><a href="setting-up-study1.html#cb2-283" aria-hidden="true" tabindex="-1"></a>          <span class="at">x =</span> Density <span class="sc">+</span> <span class="fl">0.175</span>,</span>
<span id="cb2-284"><a href="setting-up-study1.html#cb2-284" aria-hidden="true" tabindex="-1"></a>          <span class="at">y =</span> mean,</span>
<span id="cb2-285"><a href="setting-up-study1.html#cb2-285" aria-hidden="true" tabindex="-1"></a>          <span class="at">ymin =</span> cilow,</span>
<span id="cb2-286"><a href="setting-up-study1.html#cb2-286" aria-hidden="true" tabindex="-1"></a>          <span class="at">ymax =</span> cihigh</span>
<span id="cb2-287"><a href="setting-up-study1.html#cb2-287" aria-hidden="true" tabindex="-1"></a>        ),</span>
<span id="cb2-288"><a href="setting-up-study1.html#cb2-288" aria-hidden="true" tabindex="-1"></a>        <span class="at">width =</span> <span class="dv">0</span>,</span>
<span id="cb2-289"><a href="setting-up-study1.html#cb2-289" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="fl">0.8</span>,</span>
<span id="cb2-290"><a href="setting-up-study1.html#cb2-290" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> color</span>
<span id="cb2-291"><a href="setting-up-study1.html#cb2-291" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-292"><a href="setting-up-study1.html#cb2-292" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ylab</span>(title) <span class="sc">+</span></span>
<span id="cb2-293"><a href="setting-up-study1.html#cb2-293" aria-hidden="true" tabindex="-1"></a>      <span class="fu">theme</span>(</span>
<span id="cb2-294"><a href="setting-up-study1.html#cb2-294" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.text.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-295"><a href="setting-up-study1.html#cb2-295" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-296"><a href="setting-up-study1.html#cb2-296" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.ticks.x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-297"><a href="setting-up-study1.html#cb2-297" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.title.y =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb2-298"><a href="setting-up-study1.html#cb2-298" aria-hidden="true" tabindex="-1"></a>        <span class="at">axis.line =</span> <span class="fu">element_blank</span>()</span>
<span id="cb2-299"><a href="setting-up-study1.html#cb2-299" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-300"><a href="setting-up-study1.html#cb2-300" aria-hidden="true" tabindex="-1"></a>      <span class="fu">guides</span>(</span>
<span id="cb2-301"><a href="setting-up-study1.html#cb2-301" aria-hidden="true" tabindex="-1"></a>        <span class="at">color =</span> <span class="cn">FALSE</span>,</span>
<span id="cb2-302"><a href="setting-up-study1.html#cb2-302" aria-hidden="true" tabindex="-1"></a>        <span class="at">fill =</span> <span class="cn">FALSE</span></span>
<span id="cb2-303"><a href="setting-up-study1.html#cb2-303" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-304"><a href="setting-up-study1.html#cb2-304" aria-hidden="true" tabindex="-1"></a>      <span class="fu">coord_flip</span>()</span>
<span id="cb2-305"><a href="setting-up-study1.html#cb2-305" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb2-306"><a href="setting-up-study1.html#cb2-306" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(p)</span>
<span id="cb2-307"><a href="setting-up-study1.html#cb2-307" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-308"><a href="setting-up-study1.html#cb2-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-309"><a href="setting-up-study1.html#cb2-309" aria-hidden="true" tabindex="-1"></a>lm_function <span class="ot">&lt;-</span> </span>
<span id="cb2-310"><a href="setting-up-study1.html#cb2-310" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb2-311"><a href="setting-up-study1.html#cb2-311" aria-hidden="true" tabindex="-1"></a>    data, </span>
<span id="cb2-312"><a href="setting-up-study1.html#cb2-312" aria-hidden="true" tabindex="-1"></a>    mapping, </span>
<span id="cb2-313"><a href="setting-up-study1.html#cb2-313" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb2-314"><a href="setting-up-study1.html#cb2-314" aria-hidden="true" tabindex="-1"></a>    ){</span>
<span id="cb2-315"><a href="setting-up-study1.html#cb2-315" aria-hidden="true" tabindex="-1"></a>  p <span class="ot">&lt;-</span> </span>
<span id="cb2-316"><a href="setting-up-study1.html#cb2-316" aria-hidden="true" tabindex="-1"></a>    <span class="fu">ggplot</span>(</span>
<span id="cb2-317"><a href="setting-up-study1.html#cb2-317" aria-hidden="true" tabindex="-1"></a>      <span class="at">data =</span> data, </span>
<span id="cb2-318"><a href="setting-up-study1.html#cb2-318" aria-hidden="true" tabindex="-1"></a>      <span class="at">mapping =</span> mapping</span>
<span id="cb2-319"><a href="setting-up-study1.html#cb2-319" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span> </span>
<span id="cb2-320"><a href="setting-up-study1.html#cb2-320" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_point</span>(</span>
<span id="cb2-321"><a href="setting-up-study1.html#cb2-321" aria-hidden="true" tabindex="-1"></a>      <span class="at">color =</span> <span class="st">&quot;#56B4E9&quot;</span>,</span>
<span id="cb2-322"><a href="setting-up-study1.html#cb2-322" aria-hidden="true" tabindex="-1"></a>      <span class="at">alpha =</span> <span class="fl">0.5</span></span>
<span id="cb2-323"><a href="setting-up-study1.html#cb2-323" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span> </span>
<span id="cb2-324"><a href="setting-up-study1.html#cb2-324" aria-hidden="true" tabindex="-1"></a>    <span class="fu">geom_smooth</span>(</span>
<span id="cb2-325"><a href="setting-up-study1.html#cb2-325" aria-hidden="true" tabindex="-1"></a>      <span class="at">method=</span>lm, </span>
<span id="cb2-326"><a href="setting-up-study1.html#cb2-326" aria-hidden="true" tabindex="-1"></a>      <span class="at">fill=</span><span class="st">&quot;#0072B2&quot;</span>, </span>
<span id="cb2-327"><a href="setting-up-study1.html#cb2-327" aria-hidden="true" tabindex="-1"></a>      <span class="at">color=</span><span class="st">&quot;#0072B2&quot;</span>, </span>
<span id="cb2-328"><a href="setting-up-study1.html#cb2-328" aria-hidden="true" tabindex="-1"></a>      ...)</span>
<span id="cb2-329"><a href="setting-up-study1.html#cb2-329" aria-hidden="true" tabindex="-1"></a>  p</span>
<span id="cb2-330"><a href="setting-up-study1.html#cb2-330" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-331"><a href="setting-up-study1.html#cb2-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-332"><a href="setting-up-study1.html#cb2-332" aria-hidden="true" tabindex="-1"></a>dens_function <span class="ot">&lt;-</span></span>
<span id="cb2-333"><a href="setting-up-study1.html#cb2-333" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb2-334"><a href="setting-up-study1.html#cb2-334" aria-hidden="true" tabindex="-1"></a>    data,</span>
<span id="cb2-335"><a href="setting-up-study1.html#cb2-335" aria-hidden="true" tabindex="-1"></a>    mapping,</span>
<span id="cb2-336"><a href="setting-up-study1.html#cb2-336" aria-hidden="true" tabindex="-1"></a>    ...</span>
<span id="cb2-337"><a href="setting-up-study1.html#cb2-337" aria-hidden="true" tabindex="-1"></a>  ){</span>
<span id="cb2-338"><a href="setting-up-study1.html#cb2-338" aria-hidden="true" tabindex="-1"></a>    p <span class="ot">&lt;-</span> </span>
<span id="cb2-339"><a href="setting-up-study1.html#cb2-339" aria-hidden="true" tabindex="-1"></a>      <span class="fu">ggplot</span>(</span>
<span id="cb2-340"><a href="setting-up-study1.html#cb2-340" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> data,</span>
<span id="cb2-341"><a href="setting-up-study1.html#cb2-341" aria-hidden="true" tabindex="-1"></a>        <span class="at">mapping =</span> mapping</span>
<span id="cb2-342"><a href="setting-up-study1.html#cb2-342" aria-hidden="true" tabindex="-1"></a>      ) <span class="sc">+</span></span>
<span id="cb2-343"><a href="setting-up-study1.html#cb2-343" aria-hidden="true" tabindex="-1"></a>      <span class="fu">geom_density</span>(<span class="at">fill =</span> <span class="st">&quot;#009E73&quot;</span>, <span class="at">color =</span> <span class="cn">NA</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>)</span>
<span id="cb2-344"><a href="setting-up-study1.html#cb2-344" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-345"><a href="setting-up-study1.html#cb2-345" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-346"><a href="setting-up-study1.html#cb2-346" aria-hidden="true" tabindex="-1"></a>model_diagnostics <span class="ot">&lt;-</span> </span>
<span id="cb2-347"><a href="setting-up-study1.html#cb2-347" aria-hidden="true" tabindex="-1"></a>  <span class="cf">function</span>(</span>
<span id="cb2-348"><a href="setting-up-study1.html#cb2-348" aria-hidden="true" tabindex="-1"></a>    model</span>
<span id="cb2-349"><a href="setting-up-study1.html#cb2-349" aria-hidden="true" tabindex="-1"></a>  ){</span>
<span id="cb2-350"><a href="setting-up-study1.html#cb2-350" aria-hidden="true" tabindex="-1"></a>  <span class="fu">plot_grid</span>(</span>
<span id="cb2-351"><a href="setting-up-study1.html#cb2-351" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pp_check</span>(</span>
<span id="cb2-352"><a href="setting-up-study1.html#cb2-352" aria-hidden="true" tabindex="-1"></a>      model,</span>
<span id="cb2-353"><a href="setting-up-study1.html#cb2-353" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;dens_overlay&quot;</span>,</span>
<span id="cb2-354"><a href="setting-up-study1.html#cb2-354" aria-hidden="true" tabindex="-1"></a>      <span class="at">nsamples =</span> <span class="dv">100</span></span>
<span id="cb2-355"><a href="setting-up-study1.html#cb2-355" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-356"><a href="setting-up-study1.html#cb2-356" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pp_check</span>(</span>
<span id="cb2-357"><a href="setting-up-study1.html#cb2-357" aria-hidden="true" tabindex="-1"></a>      model,</span>
<span id="cb2-358"><a href="setting-up-study1.html#cb2-358" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;loo_pit_qq&quot;</span>,</span>
<span id="cb2-359"><a href="setting-up-study1.html#cb2-359" aria-hidden="true" tabindex="-1"></a>      <span class="at">nsamples =</span> <span class="dv">100</span></span>
<span id="cb2-360"><a href="setting-up-study1.html#cb2-360" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-361"><a href="setting-up-study1.html#cb2-361" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pp_check</span>(</span>
<span id="cb2-362"><a href="setting-up-study1.html#cb2-362" aria-hidden="true" tabindex="-1"></a>      model,</span>
<span id="cb2-363"><a href="setting-up-study1.html#cb2-363" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;loo_pit_overlay&quot;</span>,</span>
<span id="cb2-364"><a href="setting-up-study1.html#cb2-364" aria-hidden="true" tabindex="-1"></a>      <span class="at">nsamples =</span> <span class="dv">100</span></span>
<span id="cb2-365"><a href="setting-up-study1.html#cb2-365" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-366"><a href="setting-up-study1.html#cb2-366" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pp_check</span>(</span>
<span id="cb2-367"><a href="setting-up-study1.html#cb2-367" aria-hidden="true" tabindex="-1"></a>      model,</span>
<span id="cb2-368"><a href="setting-up-study1.html#cb2-368" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;stat&quot;</span>,</span>
<span id="cb2-369"><a href="setting-up-study1.html#cb2-369" aria-hidden="true" tabindex="-1"></a>      <span class="at">stat =</span> <span class="st">&quot;median&quot;</span>,</span>
<span id="cb2-370"><a href="setting-up-study1.html#cb2-370" aria-hidden="true" tabindex="-1"></a>      <span class="at">nsamples =</span> <span class="dv">100</span></span>
<span id="cb2-371"><a href="setting-up-study1.html#cb2-371" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-372"><a href="setting-up-study1.html#cb2-372" aria-hidden="true" tabindex="-1"></a>    <span class="fu">pp_check</span>(</span>
<span id="cb2-373"><a href="setting-up-study1.html#cb2-373" aria-hidden="true" tabindex="-1"></a>      model,</span>
<span id="cb2-374"><a href="setting-up-study1.html#cb2-374" aria-hidden="true" tabindex="-1"></a>      <span class="at">type =</span> <span class="st">&quot;stat&quot;</span>,</span>
<span id="cb2-375"><a href="setting-up-study1.html#cb2-375" aria-hidden="true" tabindex="-1"></a>      <span class="at">stat =</span> <span class="st">&quot;mean&quot;</span>,</span>
<span id="cb2-376"><a href="setting-up-study1.html#cb2-376" aria-hidden="true" tabindex="-1"></a>      <span class="at">nsamples =</span> <span class="dv">100</span></span>
<span id="cb2-377"><a href="setting-up-study1.html#cb2-377" aria-hidden="true" tabindex="-1"></a>    ),</span>
<span id="cb2-378"><a href="setting-up-study1.html#cb2-378" aria-hidden="true" tabindex="-1"></a>    <span class="at">labels =</span> <span class="fu">c</span>(<span class="st">&quot;Density overlay&quot;</span>, <span class="st">&quot;LOO-PIT QQ&quot;</span>, <span class="st">&quot;LOO-PIT Uniform&quot;</span>, <span class="st">&quot;Predicted medians&quot;</span>, <span class="st">&quot;Predicted means&quot;</span>),</span>
<span id="cb2-379"><a href="setting-up-study1.html#cb2-379" aria-hidden="true" tabindex="-1"></a>    <span class="at">ncol =</span> <span class="dv">2</span>,</span>
<span id="cb2-380"><a href="setting-up-study1.html#cb2-380" aria-hidden="true" tabindex="-1"></a>    <span class="at">label_size =</span> <span class="dv">8</span>,</span>
<span id="cb2-381"><a href="setting-up-study1.html#cb2-381" aria-hidden="true" tabindex="-1"></a>    <span class="at">hjust =</span> <span class="dv">0</span>,</span>
<span id="cb2-382"><a href="setting-up-study1.html#cb2-382" aria-hidden="true" tabindex="-1"></a>    <span class="at">vjust =</span> <span class="dv">0</span>,</span>
<span id="cb2-383"><a href="setting-up-study1.html#cb2-383" aria-hidden="true" tabindex="-1"></a>    <span class="at">label_x =</span> <span class="dv">0</span>,</span>
<span id="cb2-384"><a href="setting-up-study1.html#cb2-384" aria-hidden="true" tabindex="-1"></a>    <span class="at">label_y =</span> <span class="fl">0.93</span></span>
<span id="cb2-385"><a href="setting-up-study1.html#cb2-385" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb2-386"><a href="setting-up-study1.html#cb2-386" aria-hidden="true" tabindex="-1"></a>  }</span></code></pre></div>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="index.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-processing-study1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
